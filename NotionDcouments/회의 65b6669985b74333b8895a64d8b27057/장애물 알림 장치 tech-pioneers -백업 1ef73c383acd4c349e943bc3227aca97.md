# 장애물 알림 장치/tech-pioneers -백업

상위 회의: 장애물 알림장치 (%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20b9df15762f78490d923a2fc0dfd786b4.md)

# 장애물 알림 장치 : 안전한 자전거, 킥보드 주행을 위한 시스템

평소에 자전거를 타는 것을 좋아해서 종종 자전거를 타러 공원에 가기도 하고 이동할 때 공유 자전거를 이용해 움직이기도 했습니다. 초행길에 자전거 운전을 하게 되면 주위 건물을 둘러보느라, 자전거 도로에 있는 돌, 나뭇가지 등의 장애물 또는 턱, 움푹 파여있는 곳을 못 보는 경우가 종종 발생했습니다. 휘청이기도 했고 가끔 넘어지기도 했습니다.

퍼스널 모빌리티를 이용하며 장애물을 확인하지 못했을 경우 피할새도 없이 위험한 일을 겪는 경우도 있습니다. 팀원들 중 여러 명이 킥보드나 바이크를 타는 도중 위험한 상황을 경험했으며, 한 팀원은 전동 킥보드를 타다가 양파밭으로 날아갈 뻔한 사건이 있었습니다.

장애물로 인해 위험한 상황을 겪을 때마다 자전거나 전동 킥보드를 탈 때 장애물을 체크할 수 있는 시스템이 있으면 좋겠다는 생각을 했습니다.  

해당 아이디어를 구체화하고 아이디어의 실용성을 판단하기 위해 퍼스널 모빌리티를 주로 사용하는 지인, 라이더, 그리고 관련 종사자분들과 인터뷰를 진행했습니다. 

**자전거 수리점 사장님 인터뷰 (코디 바이크 송도점, 자전거 관련 업계 15년 경력 노성민 대표)**

Q1 : 사장님 소개 부탁드립니다.

A1 : 자전거 수리점을 운영한지는 오래되진 않았지만, 자전거 관련 업계에서는 15년 간 일해왔습니다.

Q2 : 자전거를 타면서 위험한 상황에 대해 말씀해주세요.

A2 : 위험한 상황은 빨리 달리다 주로 발생하는 것 같아요. 스포츠카라고 해서 모두가 다 거칠게 운전하지는 않잖아요. 보시다시피 속도감 있는 자전거가 많은데 이런 자전거를 타고 빨리 달리면 사고가 많이 나요. 인도에서 빠르게 달리면 사람한테 위험하고 차도에서 빨리 달리면 차보다는 자전거가 압도적으로 속도가 느리니 자전거가 위험해지죠. 이렇게 포지션이 애매하다 보니 자전거가 위험한 게 아니라 사람의 성향이 커요. 
대부분의 위험한 상황은 휴대폰을 보거나 음악을 듣고 가다가 주변 상황을 파악하는 시간이 길어져서 발생해요.

Q3: `장애물 알림 장치` 가 자전거를 타시는 분들께 유용한 제품일지 궁금합니다.

A3 : 유용할 것 같아요. 특히나 야간 주행 시 라이더가 겪는 어려움에 도움이 되겠네요. 야간 주행할 때 라이더가 겪는 딜레마가 있어요. 밝은 라이트를 사용하면 잘 보이지만, 베터리를 많이 소모해서 2시간 정도면 꺼져요. 그렇다고 약한 라이트를 쓰자니 잘 안 보이고요. 이런 상황에서는 장애물을 미리 보고 피하기 어려워요.

Q4 : `장애물 알림 장치` 의 부착 위치가 핸들 가운데인데 자전거 업계 종사자인 사장님께서 생각하시기에 적절한 위치인지 여쭤보고 싶어요.

A4 : 자전거 핸들 가운데면 좋아 보여요. 보시는 것처럼 자전거 핸들쪽에 부착할만한 여유 공간이 없거든요. 

Q5 : 자전거 타시거나 수리하실 때 겪은 불편한 점에 대해 듣고 싶습니다.

A5 : 아무래도 법적인 제도가 명확하게 만들어지지 않았다는 점이 아쉬워요. 차도에서 자전거가 달리면 차주가 불편해하고, 인도에서 달리면 사람들이 불편해 해요. 자라니라는 비하 용어가 존재할 정도로 인식이 안 좋아요. 자전거 도로가 존재한다고 하지만, 없는 곳들도 많아서 그런 부분이 명료하게 해소되어 자전거에 대한 인식이 좋아졌으면 좋겠습니다. 

**자전거 라이더 인터뷰  (당근 커뮤니티 취미 카테고리를 통해 연락)**

Q2: 자전거를 주에 몇 시간 정도 타시는 지 궁금합니다.

A2: 취미로 자전거를 즐겨타고 주3일에 1시간정도 탑니다.

Q3: 자전거를 타시면서 위험한 상황이 있으셨나요?

A3: 예전에 천호동 사거리에서 지하철을 만들 때 구멍에 빠져서 어깨가 부러진 적이 있습니다. 

Q4: `장애물 알림 장치` 에 대한 개인적인 생각 말씀 부탁드립니다.

 `장애물 알림 장치`처럼 장애물 인식을 해주는 시스템을 부착하면 이런 사고는 없었죠. 근데 사람이 앞을 보고 있을 때 장애물을 감지하는게 누가 더 빠를지 의문이네요. 특히 야간에 필수. 자전거 라이트가 있기는 하지만 보통은 앞사람 반짝이를 보고 주행해요. 이때 야간에 앞 뒤로 장애물을 파악할 수 있는 장치가 있으면 좋을 것 같아요.

**전동 킥보드 사고 경험자 인터뷰 (인천대학교 졸업생 염수형 - 공용 바이크, 지쿠터 사용 시간 14시간 이상)**

Q1. 전동 킥보드나 전기 자전거를 자주 사용하시나요?

A1.  평소 자전거와 킥보드 같은 탈 것을 많이 이용하고 있습니다. 지쿠터만해도 10시간 넘게 사용한 것 같아요. 

Q2. 탈 것을 이용하면서 위험했던 상황이 있었나요?

A2. 좀 많은데요.

먼저, 턴을 하다가 보도블럭이 튀어나와있는 것을 보지 못해서 그대로 원심력으로 날아간 적이 있고요.
장을 보고 비닐봉지 손잡이를 자전거에 걸어두고 운전하다가 조향이 걸려서 넘어진 적이 있습니다.
눈이 오는 날에 전기 자전거를 타고 얼어붙은 곳을 지나가다가 크게 넘어지기도 했고 밤에 자전거를 타고 빠른 속도로 달리다가, 나뭇가지에 머리를 맞아 위험했던 상황을 겪은 적이 있습니다. 

Q3. 평소 자전거를 타면서 필요하다고 생각하셨던 기능이 있다면 이야기 해주세요.

A3. 보통 대중교통을 이용하기 애매한 짧은 거리에 자주 사용하잖아요. 길을 잘모르니까 핸드폰으로 확인하면서 가는데 이럴 때 많이 위험했어요. 나무에 머리를 맞은 것도 길 확인하려고 핸드폰 보다가 다친거에요. 바닥에 경로 화살표를 쏘는 형식으로 표시해주는 기능이 있으면 좋겠네요. 핸드폰을 보지 않아도 경로를 바로 알 수 있는 기능이 있으면 좋을 것 같아요.

Q4. `장애물 알림 장치`를 실제로 사용할 것 같은가요?

A4. `장애물 알림 장치`는 자전거를 안전하게 탑승하는데 도움을 준다고 느껴집니다. 모듈 형태로 여러 종류의 자전거를 사용할 수 있다는 게 편리해보이네요. 

**라이딩 취미를 가진 사람 인터뷰 (이화여자대학교 재학생 김연주 - 개인 바이크, 일주일에 3시간 이상 자전거 탑승)**

Q1. 본인 소개 부탁드립니다.

A1. 저는 현재 대학생이고, 한강 근처에 살고 있어 취미로 한강 라이딩을 자주 합니다. 자전거는 취미로 타고 있기에 너무 추운 날이나 더운 날에는 잘 타지 않고 산책코스로 1시간 20분 정도 탑승하고 있습니다. 또한 야간 라이딩도 즐기고 있어 밤에도 많이 자전거를 타는 편입니다.

Q2. 자전거를 이용하면서 위험했던 상황이 있으셨는지 여쭤보고 싶습니다.

A2. 저는 주로 한강에서 자전거를 타는데, 한강 라이딩은 20km/h 속도 제한이 있어 천천히 달리는 편입니다. 그래서 낮에 자전거를 이용할 때에는 크게 위험한 사고를 당한 적은 없습니다. 

 하지만 밤에 자전거를 타다가 앞에 있는 물체를 파악하지 못해 넘어지고 크게 다칠 뻔 했던 적이 있습니다. 그때 이후로 야간 주행을 할 때에 더 조심해서 자전거를 타고 있지만 자전거 라이트 만으로는 물체가 잘 보이지 않아 불편함을 느끼고 있습니다.

Q3. `장애물 알림 장치`를 실제 사용하고 싶다고 느껴지시는지 여쭈고 싶습니다.

A3. 장애물을 보고 알려주는 기능이 있다면 사용 해보고 싶습니다. 특히 밤에 자전거를 타다가 위험한 사고를 당할 뻔 했던 적이 많기에 이 `장애물 알림 장치`가 유용하다고 느껴집니다.

**자전거로 출퇴근하는 지인 인터뷰 (한양대학교 재학생 김창우 - 공용 바이크, 일주일에 3시간 30분 이상 자전거 탑승)**

Q1. 본인 소개 부탁드립니다.

A1. 저는 현재 대학생이고, 자전거로 학교를 등교 및 하교 하고 있습니다. 자전거는 일주일에 5번 타고, 15분 정도 이동합니다. 또한 카카오 바이크와 같은 공용 자전거를 자주 사용하고 있습니다.

Q2. 자전거를 이용하면서 위험했던 상황이 있으셨는지 여쭤보고 싶습니다.

A2. 자전거를 타고 방지턱을 내려가다가, 방지턱 바로 아래에 있는 고양이를 보지 못해 위험했던 적이 있습니다. 다행히 급제동을 걸어 멈출 수 있었지만 낮이었음에도 불구하고 물체가 눈으로 파악하기 어려운 위치에 있어 위험한 상황이었습니다.

 또한 자전거 전용 도로가 없어 도로의 우측 가장 자리에서 자전거를 타고 가던 도중, 인도가 아닌 도로의 우측 가장자리에서 걸어가던 사람과 부딪힐 뻔 했던 경험이 있습니다. 

 자전거는 도로교통법상 차로 분류 되어 인도를 주행할 수 없고, 자전거 전용도로를 이용해야 합니다. 그러나 자전거 전용도로가 없는 경우 도로의 우측 가장자리로 통행 하거나 보도 주행 시 보행자의 통행에 방해 되지 않도록 주행해야 합니다. 

 이렇듯 자전거 전용 도로가 없는 경우 도로의 우측 가장 자리에서 자전거를 타다가 앞에 있는 사람이나 물체를 늦게 파악하여 다칠 뻔 했던 적이 많습니다. 밤이 아닌 밝은 낮이었지만, 신경 써야 할 것들이 많아 앞에 있는 장애물도 잘 인식하지 못할 때가 있다고 느껴졌습니다.

Q3. 자전거로 야간 주행도 자주 하시는 편인지, 야간에 자전거를 타시다가 위험했던 상황이 있으셨는지 여쭤보고 싶습니다.

A3. 밤 늦게 자전거로 하교를 하기 때문에 야간에 자전거를 많이 타는 편입니다. 저는 평소 카카오 바이크를 자주 사용하는데, 전면에 등이 있어 유용하게 사용하고 있습니다. 하지만 전면에 달린 등 만으로는 야간에 물체를 식별하기 어렵다고 느낀 적이 많아 불편함을 느끼고 있습니다.

Q4.  평소 자전거를 탑승하시면서 필요하다고 생각하셨던 기능이 있다면 이야기 해주세요.

A4. 자전거를 타다보면, 앞 자전거를 추월할 때 미리 앞 자전거가 피할 수 있도록 자전거벨을 울려주어야 합니다. 하지만 최근 자전거벨을 울리지 않고 위험하게 추월하는 사람들이 많아 위험하게 느껴졌습니다. 앞 자전거가 미리 비킬 수 있도록 신호를 주어야 하는데 이를 뒤의 사람이 하지않아도 앞 자전거에서 미리 알 수 있도록 뒤에 있는 물체가 다가오면 알려주는 기능이 있으면 좋겠다고 느껴집니다.

Q5. `장애물 알림 장치`를 실제 사용하고 싶다고 느껴지시는지 여쭈고 싶습니다.

A5. `장애물 알림 장치`는 저와 같이 자전거를 안전하게 타고 싶은 사람에게 유용하다고 느껴집니다. 실제 안전한 자전거 주행을 위해 필요한 기능들이 있고, 자전거 종류에 상관없이 사용할 수 있는 장치이므로 편리하다고 느껴집니다. 특히 카카오 바이크 같은 공용 자전거에 간단히 부착하여 사용해보고 싶습니다.

인터뷰에 응해주신 분들은 대부분 자전거나 킥보드를 사용하다가 장애물로 인한 위험 상황 또는 실제로 다친 경험이 있었습니다. 이들은 장애물을 감지하고 알려주는 시스템이 있다면, 장애물로 인한 위험은 줄어들 수 있을 것이라고 하였으며 특히, 야간에 이러한 시스템이 적용된다면 매우 유용할 것이라는 반응이었습니다.

다음은 도로교통공단의 자전거 사고 통계 자료를 참고하여 2020년부터 2022년 사이에 발생한 차량단독 사고건에 대한 데이터를 표로 나타낸 결과입니다. ([도로교통공단 TAAS](https://taas.koroad.or.kr/sta/acs/exs/typical.do?menuId=WEB_KMP_OVT_UAS_ASA)를 통해 얻은 자료입니다.)

**2020년 차량단독 사고**

| 구분 | 공작물 충돌 | 도로 이탈 추락 | 도로 이탈 기타 | 기타 | 전도 | 전복 |
| --- | --- | --- | --- | --- | --- | --- |
| 사고(건) | 40 | 7 | 5 | 137 | 90 | 6 |
| 사망(명) | 3 | 3 | 2 | 7 | 8 | 1 |
| 부상(명) | 38 | 4 | 3 | 130 | 82 | 4 |
| 합계 | 81 | 14 | 10 | 274 | 180 | 11 |

**2021년 차량단독 사고**

| 구분 | 공작물 충돌 | 주/정차 차량 충돌 | 도로 이탈 추락 | 도로 이탈 기타 | 기타 | 전도 | 전복 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 사고(건) | 23 | 3 | 11 | 2 | 134 | 72 | 6 |
| 사망(명) | 3 | 0 | 6 | 0 | 8 | 10 | 0 |
| 부상(명) | 20 | 3 | 6 | 2 | 126 | 62 | 6 |
| 합계 | 46 | 6 | 23 | 4 | 268 | 144 | 12 |

**2022년 차량단독 사고**

| 구분 | 공작물 충돌 | 주/정차 차량 충돌 | 도로 이탈 추락 | 도로 이탈 기타 | 기타 | 전도 | 전복 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 사고(건) | 21 | 1 | 9 | 5 | 117 | 87 | 5 |
| 사망(명) | 3 | 1 | 4 | 3 | 18 | 9 | 2 |
| 부상(명) | 18 | 0 | 5 | 2 | 99 | 78 | 3 |
| 합계 | 42 | 2 | 18 | 10 | 234 | 174 | 10 |

연도별로 증감률이 다르지만 공작물 충돌이 매년 자전거 사고 중 2위에 해당하는 사항임을 알 수 있었습니다.

킥보드의 경우 최근 5년간(2017년~2021년) 3,421건의 개인형 이동장치 사고가 발생해 45명이 사망했으며, 지난 2022년에는 26명이 사망한 것으로 잠정 집계됐습니다.

![[https://www.thebigdata.co.kr/view.php?ud=202012071608124094d0a8833aad_23](https://www.thebigdata.co.kr/view.php?ud=202012071608124094d0a8833aad_23)](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled.png)

[https://www.thebigdata.co.kr/view.php?ud=202012071608124094d0a8833aad_23](https://www.thebigdata.co.kr/view.php?ud=202012071608124094d0a8833aad_23)

![[https://www.koroad.or.kr/main/board/6/87946/board_view.do?&cp=1&listType=list&bdOpenYn=Y&bdNoticeYn=N](https://www.koroad.or.kr/main/board/6/87946/board_view.do?&cp=1&listType=list&bdOpenYn=Y&bdNoticeYn=N)](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%201.png)

[https://www.koroad.or.kr/main/board/6/87946/board_view.do?&cp=1&listType=list&bdOpenYn=Y&bdNoticeYn=N](https://www.koroad.or.kr/main/board/6/87946/board_view.do?&cp=1&listType=list&bdOpenYn=Y&bdNoticeYn=N)

관련 종사자와 사용자의 인터뷰와 자전거 관련 사고에 대한 조사 결과, 개인 이동 수단으로 인한 사고가 다수 발생하고 있으며 점점 증가하고 있다는 것을 알게 되었습니다. 저희는 이를 해결해야 할 문제로 인식하였고 인터뷰를 통해 실용성에 대한 긍정적인 반응을 얻어 '장애물을 자동으로 감지하고 탑승자에게 알려주는 장치'를 만들고자 합니다.

## 장애물 알림 장치

`장애물 알림 장치` 는 전방에 부착된 모듈과 앞바퀴 좌우에 부착된 초음파 센서를 통해 주행 중 장애물을 실시간으로 탐지하여 사용자에게 알리는 시스템입니다. 싱글 보드 컴퓨터로 Jetson Nano B01, 객체 인식 모델로는 YOLOv7-tiny를 사용합니다. 
장애물 감지 기능과 알림을 조합한 모듈 형태로 압축벨트를 이용하여 고정합니다. 압축벨트를 사용하기 때문에 핸들 모양에 관계없이 다양한 자전거, 킥보드에 부착하여 사용할 수 있습니다. 

![장애물 알림 장치 모듈화](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%202.png)

장애물 알림 장치 모듈화

![따릉이](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%203.png)

따릉이

## 필요성

`장애물 알림 장치`는 육안으로 식별하기 힘든 장애물(전방, 좌우)을 감지하여 탑승자에게 알려줍니다. 

낮 시간에 주행할 때는 탑승자가 스마트폰으로 길을 보거나 다른 행동을 할 때 전방에서 놓치는 부분이 없도록 도와줍니다.

야간에 자전거를 탈 경우 밝은 라이트를 사용하면 배터리가 빠르게 소진되고 밝기가 약한 라이트를 사용하면 배터리는 오래가지만, 어두워서 안 보인다는 문제점이 있습니다. 또 자전거 라이더는 인터뷰에서 야간에 라이트가 큰 의미가 없다고 하였습니다. 야간에 라이트만으로 장애물을 판단하기에는 어려움이 있다 판단하였고 `장애물 알림 장치` 는 이를 적외선 카메라를 이용하여 해결하고자 합니다.

도로교통법(제 50조 9항)상 야간에 자전거를 주행하기 위해서는 전조등과 미등 같은 발광장치를 착용해야 합니다. 장애물 알림 장치는 라이트를 아예 대체하기보다 라이트로 해결할 수 없는 문제를 보완하는 관계입니다.
라이트의 문제점은 다음과 같습니다. 
아주 가까운 시야만 확인이 가능합니다. 주행 속도를 고려했을 때 갑자기 나타난 장애물을 피하기 쉽지 않게 됩니다. 

![서울따릉이 유튜브 - 라이트 사용 관련
정면으로 각도를 올릴 경우 시야가 더 넓어지지만 다른 사람의 시야를 방해한다는 문제가 있음.](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%204.png)

서울따릉이 유튜브 - 라이트 사용 관련
정면으로 각도를 올릴 경우 시야가 더 넓어지지만 다른 사람의 시야를 방해한다는 문제가 있음.

`장애물 알림 장치`를 이용하여 라이트 시야로 확보할 수 없는 장애물을 탑승자에게 미리 인식할 수 있도록 하고자 합니다.

![야간 주행 시 사용자가 장애물을 인식하는 과정 (전방) - 1](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%205.png)

야간 주행 시 사용자가 장애물을 인식하는 과정 (전방) - 1

![야간 주행 시 사용자가 장애물을 인식하는 과정 (전방) - 2](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%206.png)

야간 주행 시 사용자가 장애물을 인식하는 과정 (전방) - 2

### 좌우 장애물 판별

아래 이미지와 같이 앞바퀴 좌우에 초음파 센서를 부착하여 탑승자 바로 옆에 있는 장애물을 감지합니다. 해당 케이스의 경고음을 출력하여 사용자가 좌우 장애물에 대해 인지할 수 있도록 합니다.

장애물과 자전거 사이 거리가 [1.5m 이하](https://imnews.imbc.com/replay/2017/nwdesk/article/4361769_30212.html)일 경우 장애물에 대한 경고음을 출력합니다. 현재 이격 거리에 대한 기준이 법적으로 정해져 있지 않지만, 한국건설기술연구원의 실험을 통해 최소 1.5m라는 기준을 정하게 되었습니다.

전방에 장애물이 나타났을 경우, 자전거의 좌, 우 장애물을 살펴봄으로써 적절한 경로를 제시합니다.

![자전거 앞 포크부근에 좌우로 설치된 초음파 센서](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%207.png)

자전거 앞 포크부근에 좌우로 설치된 초음파 센서

![킥보드 바퀴부근 뼈대에 좌우로 설치된 초음파 센서](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%208.png)

킥보드 바퀴부근 뼈대에 좌우로 설치된 초음파 센서

![야간 주행 시 사용자가 장애물을 인식하는 과정 (좌우) - 1](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%209.png)

야간 주행 시 사용자가 장애물을 인식하는 과정 (좌우) - 1

![야간 주행 시 사용자가 장애물을 인식하는 과정 (좌우) - 2](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2010.png)

야간 주행 시 사용자가 장애물을 인식하는 과정 (좌우) - 2

### 목표

- 자전거, 킥보드 주행 시 공작물 충돌로 인한 사고 완화
    - 모듈화 된 장애물 알림 장치를 활용하여 주행 중 실시간으로 알림 받는 기능 지원
    - 주간, 야간 주행 두 가지 모드 지원
    

## 서비스 순서도

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2011.png)

## **Sequence**

1. 객체 인식 박스의 좌표를 통해서 중앙선 기준 왼/오/앞 케이스 확인 가능
2. 자전거, 킥보드 바퀴부분에 설치된 초음파 센서를 사용해 좌우 장애물 파악
3. 케이스 별로 경고음을 별도로 출력
    
    1.5m 이내 장애물 인지 시 케이스 별로 장애물 위치 파악하여 경고음을 출력합니다.
    
    하단의 표는 각 전방 케이스별로 물체가 있을 경우, 좌/우의 장애물 여부에 따른 회피 방법입니다.
    
    (여러 케이스가 가능할 경우, 가운데 > 우측 > 좌측 순으로 회피 알림을 보냅니다)
    
    |  | 전방 좌측 | 전방 가운데 | 전방 우측 |
    | --- | --- | --- | --- |
    | 좌측 장애물 | 가운데 | 우측 | 가운데 |
    | 우측 장애물 | 가운데 | 좌측 | 가운데 |
    | 좌우 둘 다 장애물이 없을 경우 | 가운데 | 우측 | 가운데 |
4. 탑승자가 장애물의 여부와 대략적인 위치 인지
5. 탑승자가 속도를 줄이거나 방향을 바꾸는 식으로 장애물을 회피할 수 있음

## **장애물 탐지 기능 구현**

**객체 인식 모델 소개**

자전거, 킥보드 주행 중 실시간으로 장애물을 탐지하기 위해 [YOLO](https://pjreddie.com/darknet/yolo/)를 사용합니다. YOLO(You Only Look Once)는 실시간 객체 탐지 시스템(real-time object Detection)으로, 이미지에 대해 빠른 속도로 Object Detection을 수행합니다. YOLOv1부터 YOLOv8(2023년 1월 발표)까지 꾸준히 다양한 버전이 출시 되고 있습니다.

우리는 객체 인식을 위해 yolov7-tiny를 사용합니다.  선택한 이유는 다음과 같습니다.

![yolov7 객체 탐지 결과](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2012.png)

yolov7 객체 탐지 결과

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2013.png)

YOLOv7은 YOLO 이전 버전보다 속도와 정확도를 모두 고려했을 때 종합적으로 뛰어난 성능을 보입니다. 우리는 싱글 보드 컴퓨터를 사용해야하기 때문에 임베디드 환경에 적합한 YOLOv7-tiny 버전을 선택했습니다. YOLOv7-tiny는 경량화된 모델로 YOLOv7-tiny를 사용하면 하드웨어가 제한되는 환경에서 객체를 더 빠르게 감지할 수 있습니다. 
Comparison of SOTA real-time object detectors 표를 통해 YOLOv7-tiny-SiLU가 YOLOv5-N6보다 127fps 더 빠르고 AP는 10.7% 더 정확하다는 걸 확인할 수 있습니다. 

 [YOLOv7과 YOLOv7-tiny는 이상적인 환경(좋은 조명 조건, 20미터 미만의 거리)에서 비슷한 정확도를 보였습니다.](https://matom.ai/insights/yolo-v7-vs-yolo-v7-tiny/) 우리는 주/야간에 객체 인식 정확도를 높이기 위해 모드별로 적합한 카메라를 사용하여 객체 인식을 진행하기로 했습니다. 

또한 YOLO 시리즈는 활발한 개발자 및 연구자 커뮤니티를 가지고 있기 때문에 관련 레퍼런스가 많습니다. 이는 제한된 시간 내에 아이디어를 완성하기 위해 매우 중요합니다.

싱글 보드 컴퓨터로는 Jetson Nano B01를 사용합니다. 
Jetson Nano는 NVIDIA GPU를 활용할 수 있어 소형 AI 프로젝트에 이상적인 NVIDIA의 임베디드 컴퓨팅 보드 시리즈입니다.

TensorRT를 사용하여 최적화 후 YOLOv7-tiny(TRT)를 사용하여 객체 인식 결과 Jetson Nano에서 30 이상의 FPS가 나오는 것을 레퍼런스를 통해 확인했습니다. 30fps가 실시간 객체 인식에 충분한 속도라 판단했으며 필요에 따라 이미지 해상도를 줄여 더 높은 프레임 속도를 선택할 예정입니다.

[YOLOv7 with TensorRT on Jetson Nano (with Python script example)](https://medium.com/@jurespeh/yolov7-with-tensorrt-on-jetson-nano-with-python-script-example-63099fa7c8a5)

Jetson Nano 스펙 

| CPU | Quad-core ARM A57 |
| --- | --- |
| GPU | 128-core Maxwell GPU |
| Memory | 2GB 64-bit LPDDR4 | 25.6 GB/s |

[https://github.com/WongKinYiu/yolov7](https://github.com/WongKinYiu/yolov7)

**데이터셋 수집**

 장애물 탐지 모델을 훈련하기 위해서 충분한 데이터셋이 필요합니다. 충분한 양의 데이터를 모으기 위해 다음과 같은 방법을 사용합니다.

1) 오픈 데이터셋을 활용

AI-Hub에서 제공하는 “자전거도로 주행 데이터”는 전국 다양한 자전거 도로 환경을 대상으로 데이터를 수집한 데이터셋입니다. 자전거 주행 중 마주칠 수 있는 다양한 물리적 장애요소 등을 직접 촬영한 이미지를 구축한 것으로, 자전거 주행 중 장애물을 탐지하는 모델을 학습하는데 적합한 데이터셋입니다.

![자전거도로 주행 데이터 성능 점수](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2014.png)

자전거도로 주행 데이터 성능 점수

[AI-Hub](https://www.aihub.or.kr/aihubdata/data/view.do?currMenu=115&topMenu=100&dataSetSn=71629)

2) 실제 환경에서 직접 수집

킥보드와 자전거를 이용해 직접 도로 데이터 수집을 진행합니다.
야간 장애물 탐지를 위해 적외선 카메라로 촬영한 야간 데이터를 직접 수집합니다.

수집할 도로의 종류는 자전거 도로, 일반 도로를 대상으로 설정하였습니다. 

효율적인 데이터 관리를 위해 수집 후 파일명을 수정합니다. 이때 파일명은 AI-Hub의 파일명을 참고합니다.

![오픈 데이터셋 구조 및 파일명](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2015.png)

오픈 데이터셋 구조 및 파일명

**학습 방법**

**이미지 선택 및 가공**

직접 수집한 이미지 데이터에서 의미있는 데이터를 선택합니다.

AI-Hub에서 제공하는 원천 데이터에서 의미있는 데이터들을 설정합니다.
images의 daynight 프로퍼티를 통해 주간, 야간 데이터를 나눌 수 있습니다.

![1000019549.jpg](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/1000019549.jpg)

라벨링 전에 custom image들의 사이즈를 416*416으로 통일시킵니다. 비율로 인해 채워지지않는 영역은 검정색 배경의 이미지와 합치는 방식으로 처리합니다.

**custom image 데이터셋 확보**

image들을 학습시키기 위한 데이터셋을 만들기 위해 이미지 라벨링 툴이 labelimg를 사용합니다. 

[https://github.com/HumanSignal/labelImg](https://github.com/HumanSignal/labelImg)

YOLOv7은 txt 파일 형식이 필요합니다. labelimg에서 저장방식을 YOLO로 변경하여 원하는 형식을 얻을 수 있습니다.

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2016.png)

class명과 라벨링 규칙을 팀원들과 설정한 후 진행합니다. 이때 class는 AI-Hub의 데이터셋을 참고합니다.

**학습 진행**

YOLOv7 모델 학습을 위해 Google colab을 이용합니다.

[colab에서 yolov7 커스텀데이터 만들기](https://kyoungin90.tistory.com/503)

[2-04 YOLOv7 모델 학습하기](https://wikidocs.net/217686)

**주/야간 모드 가중치 파일 생성** 

주간모드, 야간모드를 위해 각 모드별로 학습을 따로 진행할 예정입니다.

주간모드의 경우 Astra Pro Plus 3D Depth Camera로 수집한 이미지와 AI-Hub 데이터셋에 대해, 야간모드의 경우 라즈베리 파이 적외선 카메라 모듈 V2로 수집한 이미지에 대해 학습을 진행합니다. 모드별로 가중치 파일을 만듭니다.

**모드 전환**

모드 전환을 위한 script를 작성합니다. 모드는 토글형식으로 변경합니다.

버튼을 누를 때마다 사용할 가중치 파일을 변경합니다. 이때 카메라는 GPIO 제어를 통해 소프트웨어적으로 변경합니다. 

LED 불빛을 통해 현재 선택된 모드를 알 수 있습니다.

**영역 설정**

탑승자가 주행하는 범위 내 장애물에 대해서 경고음을 출력하도록 합니다. 영상물의 중앙을 기준으로 계산한 범위 좌표 내에 객체의 경계 박스 좌표 값이 들어오는지 조건을 확인합니다.

본 기기는 핸들 중앙에 부착됩니다. 자전거 설계 기준 폭 0.8m을 넘는 물체에 한해서는 경고음을 발생하지 않습니다. 

킥보드의 폭에 대한 뚜렷한 기준이 없다는 점과 자전거의 폭이 더 넓다는 점을 고려해, 자전거의 폭을 기준으로 영역을 설정합니다.

![자전거 이용시설 설치 및 관리 지침, 2015.1, 국토교통부](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2017.png)

자전거 이용시설 설치 및 관리 지침, 2015.1, 국토교통부

![자전거 이용시설 설치 및 관리 지침, 2015.1, 국토교통부](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2017.png)

자전거 이용시설 설치 및 관리 지침, 2015.1, 국토교통부

**장애물 판단 범위**

 장애물 알림 장치는 육안으로 봤을 때 놓칠 수 있는 부분을 알려주는 운전 보조 장치입니다. 사람, 유모차 등 큰 물체는 운전자가 충분히 인지할 수 있는 부분입니다. 따라서, 저희는 모든 장애물에 대한 학습을 진행하지 않고 눈으로 판단하기 힘든 장애물인 노면에 위치한 돌, 나뭇가지, 보도블럭의 턱과 같은 물체를 중심으로 장애물 학습을 진행할 예정입니다. 

 저희는 카메라 센서를 통해 돌, 나뭇가지, 보도블럭의 턱 같은 작은 장애물만 감지해 물체 인식에 대한 정확도를 높입니다. 그리고 초음파 센서를 활용하여 탑승자 바로 옆(좌우)에 위치한 물체를 인식합니다. 

**초음파 센서 동작 원리**

물체에 반사된 음파를 그대로 센서로 입력 (진동)시켜서 발생된 전압을 회로에서 처리해 측정 거리를 계산합니다.`장애물 알림 장치`는 초음파센서를 통해 측정한 거리가 1.5m이하 일 경우 경고음을 출력하도록 합니다.

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2018.png)

**장애물과의 거리 탐지**

> **추가 기능** 
계획보다 개발 단계가 빠르게 진행된다면 추가적인 구현을 계획하고 있습니다.
> 

**3D depth 카메라**: 3D depth 카메라는 깊이 정보를 포함한 실제 세계의 3차원 모습을 캡처할 수 있는 카메라입니다. ToF(Time-of-Flight), 스테레오 비전 등의 기술을 사용하여 깊이 정보를 획득합니다.

1. 객체 인식을 통해 입력 이미지에서 객체를 감지하고 분류합니다.
2. 동시에 3D 깊이 카메라는 객체와의 거리 정보를 획득합니다.
3. 거리 측정 및 결합 알고리즘을 통해 객체의 위치와 3D 거리 정보를 통합하여 장애물과의 거리를 계산합니다.
4. 스피커를 통해 계산된 거리에 대한 정보를 사용자에게 제공하여 안전성을 향상 시킵니다.

## **하드웨어 적합성 평가**

### SBC (**[NVIDIA] NVIDIA Jetson Nano 2GB Developer Kit**)

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2019.png)

싱글 보드 컴퓨터로 Jetson nano 2GB을 사용합니다. 해당 제품의 computing power은 500GFLOPS로 yolov7-tiny를 사용하기에 충분한 성능을 제공합니다. learn open CV에 따르면 YOLOv7 Tiny의 연산 소모량은 320에서는 3.5 GFLOPs 416에서는 5.8GFLOPs를 필요로 합니다. 따라서 하드웨어의 computing power문제는 없습니다. 

### 카메라

**카메라1 ([Orbbec] Astra Pro Plus 3D Depth Camera)**

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2020.png)

RGB와 Depth Image 이미지 센서를 모두 장착하고 있는 제품입니다. RGB 센서는 FHD화질에서 30fps, Depth 카메라는 VGA 화질에서 30 fps를 만족합니다. 또한 Depth 카메라는 인식 범위가 0.6m 에서 8m 까지로 20Km/h 속도로 달리는 자전거에서 약 1.5초 정도 여유가 있습니다. 

**카메라 2 ([Raspberry Pi] 라즈베리파이 적외선 카메라 모듈 V2)**

![제목 없음.png](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/%25EC%25A0%259C%25EB%25AA%25A9_%25EC%2597%2586%25EC%259D%258C.png)

야간 모드를 위해 라즈베리 파이 카메라 중 적외선 필터가 제거된 모델을 이용합니다. 해당 제품은 적외선 필터가 없기 때문에 적외선까지 인식할 수 있어서 저조도 환경에서 적외선을 이용하여 이미지 획득이 가능합니다. 따라서 저조도 환경에서 이미지를 획득하기에 카메라는 적합하다 할 수 있습니다.

낮 시간에 자전거 주행을 한다면 **[Orbbec] Astra Pro Plus 3D Depth Camera**를 이용해 장애물을 인식합니다.

야간에 자전거 주행을 한다면 **[Raspberry Pi] 라즈베리파이 적외선 카메라 모듈 V2, 8MP (RPI NOIR CAMERA BOARD.)** 를 활용해 장애물을 감지합니다.

### 스피커

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2021.png)

장애물 감지 시 사용자에게 경고음을 출력하기 위해 사용합니다. 

### 버튼

주, 야간 모드를 변경하기 위해 사용합니다.

### LED

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2022.png)

장치의 현재 모드를 나타내기 위해 사용합니다.
주간 모드 시 초록색, 야간 모드 시 빨간색 불빛이 들어옵니다.

### 배터리

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2023.png)

배터리는 3.7V 20000mAh로 74Wh의 용량을 가지고 있습니다. Jetson Nano 2GB의 최대 전력 사용량은 DC 5V 3A, 즉 15Wh를 소모합니다. 해당 배터리를 사용하여 대략 5시간 동안 Jetson Nano를 구동 시킬 수 있습니다. 따라서 제품 구동에 충분한 양의 전력을 공급할 수 있습니다. ([권장 자전거 운동 시간 - 30~60분](https://health.seoulmc.or.kr/healthCareInfo/cycleProgram.do;jsessionid=18F53004EB4E3A567922F20EEBEA3D16) )

### 초음파 센서

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2024.png)

이 초음파 센서는 ranging distance 20mm ~ 5000mm, resolution 3mm, effectual angle < 15º의 스펙을 만족하고 있습니다.

따라서 앞바퀴 양 옆에 장착 하였을 시 자전거 좌 우 안전 권장 거리인 1.5m을 만족할 수 있습니다.

## **모델링**

카메라와 Jetson Nano 등 하드웨어를 감쌀 케이스를 3D 프린터로 출력합니다.

AutoDesk 123D를 사용하여 모델링을 진행합니다.

교내 메이커스페이스 및 팀원이 개인적으로 소지하고 있는 3D프린터를 이용할 예정입니다.

### 구상

`장애물 알림 장치` 를 핸들 중앙에 부착합니다. 초음파센서를 앞바퀴 좌우에 부착합니다.

![킥보드](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%208.png)

킥보드

압축벨트를 사용하여 고정합니다.
압축벨트를 사용하여 핸들 생김새와 관계없이 다양한 퍼스널 모빌리티에 부착시킬 수 있습니다.

![압축벨트](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2025.png)

압축벨트

## 경쟁사 분석 및 차별성

### **자전거 사고 방지를 위한 능동형 안전 시스템**

야간 주행시에 좌우 지시등과 전방 경고등을 통해 위험요소가 될 수 있는 자동차와 사람들에게 보다 확실하게 자전거 주행자의 위치를 알려줍니다. 

초음파 센서와 조도 센서를 활용하여 차량을 감지하고 센서의 측정값을 활용하여 구축한 상황 인지 시스템을 통해 판별한 위험 수준을 자전거 사용자가 쉽게 인지할 수 있는 자전거 사고 방지를 위한 능동형 안전 시스템입니다.

후방에서 접근하는 차량이나 자전거의 접근상태를 자전거 운전자가 용이하게 확인할 수 있도록 알려줌과 더불어 후방에서 접근하는 차량이나 자전거 운전자에게 자전거의 운전방향을 알려주어 자전거의 안전사고를 방지하고, 간단한 구조의 능동형 안전 시스템을 구현하여 사용이 간편하고, 시스템의 설치 비용을 최소화하여 경제성이 탁월하면서도 고장 없이 장기간 안정되게 사용할 수 있는 수명이 긴 각별한 장점이 있습니다.

본 시스템은 후방에서 오는 차량과 사람에게 자전거의 존재를 알려주고 후방에 대한 정보를 자전거 운전자에게 알려줍니다. 

 `장애물 알림 장치` 는 차랑과 사람 외 장애물까지 감지하여 자전거를 타고 있는 사람이 안전하게 주행할 수 있도록 도와줍니다.

[자전거 사고 방지를 위한 능동형 안전 시스템](https://patents.google.com/patent/KR101748804B1/ko)

### **아두이노를 활용한 자전거 운전자 안전 향상 시스템**

자전거 운전자를 위한 안전 향상 조압 시스템으로 다양한 기능을 포함하고 있습니다.

1. 과속 방지를 위한 속도계 및 경고 기능
과속 방지를 위해 속도계 기능을 추가하고 LED를 점등과 부저를 울려 운전자로 하여금 과속하지 않도록 하는 기능을 포함하고 있습니다.
2. 장애물 감지를 위한 초음파 센서
초음파 센서를 이용하여 전방의 물체를 탐지하여 운전자에게 경고하는 기능을 포함하고 있습니다. SRF02 센서를 사용하였고, 약 5cm 돌출된 장애물을 인식 가능합니다.
3. 도난 방지 오토락 시스템
자전거 도난 방지를 위한 자동 잠금 시스템입니다. 서보모터를 이용하였으며, 자전거 파손 시 자동으로 작동하여 도난을 방지합니다.
4. 칼로리 소모 계산 어플리케이션
스마트폰 어플리케이션으로 사용자가 자전거를 타며 소모한 열량을 계산해주는 소프트웨어입니다.

저희 `장애물 알림 장치` 와 유사한 기능으로는 장애물 감지를 위한 초음파 센서입니다. 다만 `장애물 알림 장치` 는 딥러닝 기술을 이용하여 기존 제품에 비해 더욱 정밀한 인식이 가능합니다. 또한 솟아난 형태의 장애물 뿐만 아니라 파인 형태의 장애물도 인식할 수 있습니다.

[아두이노를 활용한 자전거 운전자 안전 향상 시스템 | DBpia](https://www.dbpia.co.kr/Journal/articleDetail?nodeId=NODE08825227)

### **공유 킥보드 : 지쿠터 K2**

지쿠터 K2는 기존 킥보드에 비해 하드웨어적 성능이 개선된 킥보드입니다. AIoT기술과 카메라, ADAS시스템을 적용하여 장애물과 바닥 환경 등 다양한 주변 환경을 분석하여 사고 위험을 자동으로 예측하는 모델 개발하겠다는 의사를 밝혔습니다. 그러나 현재 출시 예정인 K2는 인체공학적 디자인을 적용 및 발판의 무게 중심을 낮춰 입문자도 쉽게 탈 수 있도록하여 탑승 안전성을 강화한 형태로 AIoT 기술은 아직까지 적용되지 않았습니다. 

해당 제품의 경우 해당 회사 공유 킥보드에 장착되기 위한 용도로서 다른 자전거나 개인 소유의 킥보드에 적용이 불가하지만 `장애물 알림 장치` 는 탈부착이 가능한 형태로 개인 자전거, 킥보드 뿐만 아니라 공용 모빌리티에서도 사용할 수 있다는 점에서 차별성이 있습니다.

[장애물 감지·자동 감속…공유킥보드, IT 접목 '안전' 무장](https://www.etnews.com/20220920000175)

## **핵심 팀 구성원 소개 및 업무 내용**

박주미

팀장

- 주간 데이터셋 수집
- 주간 데이터셋 라벨링
- 주간모드 학습 진행
- 장애물 감지했을 때 동작에 대한 코드 작성

---

구민성

팀원

- 젯슨 나노 세팅
- 하드웨어 패키징
- 야간 데이터셋 수집
- 주간 데이터셋 라벨링
- 3D 모델링
- 아두이노 펌웨어

---

류지수

팀원

- 야간 데이터셋 라벨링
- 커스텀 이미지 가공
- 샘플 원천데이터에서 의미있는 데이터 선택
- 3D 모델링

---

한예지

팀원

- 야간 데이터셋 라벨링
- 야간모드 학습 진행
- 주/야간모드 전환 script 작성
- 수집한 데이터에서 의미있는 데이터 선택
- 좌우 장애물 인식

## 일정표

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2026.png)

## 시연 계획

**자전거 주행 환경 조성**

- 나뭇가지, 돌, 보도블럭의 턱, 사람 등 여러 장애물 요소를 시연 장소에 배치합니다.
- 자전거를 타면서 주행 중 장애물을 `장애물 알림 장치` 가 인식하는지 확인합니다.
- 표를 참고하여 케이스 별로 경고음에 올바르게 출력 되는지 확인합니다.

|  | 전방 좌측 | 전방 가운데 | 전방 우측 |
| --- | --- | --- | --- |
| 좌측 장애물 | 가운데 | 우측 | 가운데 |
| 우측 장애물 | 가운데 | 좌측 | 가운데 |
| 좌우 둘 다 장애물이 없을 경우 | 가운데 | 우측 | 가운데 |

## 지원 경비 사용 계획서

### 하드웨어 구성요소 (디바이스마트)

| 모델명 | 단가 | 수량 | 용도 | 링크 |
| --- | --- | --- | --- | --- |
| [큐브온]
  [당일발송] PD20W 고속충전 20000mAh 보조배터리 LED잔량 숫자표시 C타입 8핀 | 24,000 | 1 | 젯슨나노 전원 공급용 | https://www.devicemart.co.kr/goods/view?no=15033125 |
| [CNLINKO]
  C타입 USB 3.1 커넥터 소켓 1M [LP16-TYPEC-MP-FS-1M-001] | 23,000 | 1 | 배터리 충전단자 | https://www.devicemart.co.kr/goods/view?no=15317757 |
| [Orbbec]
  Astra Pro Plus 3D Depth Camera | 211,000 | 1 | 주간 주행 시 장애물 탐지 위한 카메라 | https://www.devicemart.co.kr/goods/view?no=14806830 |
| [Raspberry
  Pi] 라즈베리파이 적외선 카메라 모듈 V2, 8MP (RPI NOIR CAMERA BOARD.) | 22,000 | 1 | 야간 주행 시 장애물 탐지 위한 카메라 | https://www.devicemart.co.kr/goods/view?no=1289483 |
| [(주)박스코]
  환기구 BC-CG-V60 | 2,200 | 2 | 방열용 환기구 | https://www.devicemart.co.kr/goods/view?no=12522560 |
| [네오틱스]
  60mmX60mmX10mm DC BRUSHLESS 5V, 0.18A 팬(FAN) (PN-FAN-G6005) | 10,000 | 1 | 환기구용 방열팬 | https://www.devicemart.co.kr/goods/view?no=12210447 |
| [SMG]
  Jetson Nano PWM 제어 FAN 4020 5V [SZH-JET001] | 5,200 | 1 | 젯슨나노 쿨링팬 | https://www.devicemart.co.kr/goods/view?no=12494456 |
| [SMG]
  아두이노 나노 호환보드 FT232RL [SZH-EK017] | 7,000 | 1 | 버튼, LED컨트롤러 | https://www.devicemart.co.kr/goods/view?no=1265700 |
| [NulSom
  Inc.] NS-LS2 (2ch 양방향 레벨 컨버터 모듈) | 2,800 | 1 | UART level shifter | https://www.devicemart.co.kr/goods/view?no=1062638 |
| [NW3
  (중국)] 메탈 푸쉬 스위치 플랫형 [HX16-B1] | 2,700 | 1 | 주, 야간 모드 선택 스위치 | https://www.devicemart.co.kr/goods/view?no=1325010 |
| [HSUKWANG
  (중국)] [5RG9HW-2(A)] 5파이 투톤LED-빨강,녹색 /Anode 타입 | 150 | 1 | 주, 야간 모드 표시 LED | https://www.devicemart.co.kr/goods/view?no=3233 |
| [DFRobot]
  Mini USB External Sound Card for NVIDIA Jetson Nano/ Raspberry Pi 400
  [FIT0895] | 1,300 | 1 | 경고음 출력 | https://www.devicemart.co.kr/goods/view?no=14587951 |
| [SMG]
  DIY용 스피커 유닛 4Ω 3W 2인치(실버) [SY-SPK059] | 4,900 | 1 | 경고음 출력 | https://www.devicemart.co.kr/goods/view?no=12236769 |
| [SMG]
  PAM8403 초소형 2 x 3W 디지털 앰프 모듈 [SZH-AMBO-003] | 900 | 1 | 경고음 출력 | https://www.devicemart.co.kr/goods/view?no=1326893 |
| [OEM] 초음파 거리센서 모듈 HC-SR04
  [SZH-EK004] | 1,100 | 2 | 측면 물체 탐지용 | https://www.devicemart.co.kr/goods/view?no=1076851 |
| 총 예산 합계 | 321,550원 | VAT포함 | 353,705원 |  |

Jetson Nano 2GB제품의 경우 팀원이 소유하고 있는 제품을 사용할 예정입니다.

앞서서 진행한 인터뷰의 일부 인터뷰이에게 장애물 알림 장치에 대한 수요 조사를 진행하였습니다. 소수의 인터뷰이는 킥보드, 자전거 주행에서의 사고 경험을 토대로 본 가격으로 제품을 구매한다고 의사를 밝혔습니다. 사고 경험자들의 긍정적인 의사처럼, 현재 본 제품에 대한 긍정적인 평가가 진행되고 있습니다.

기존 하드웨어 가격을 30만원 대로 잡았으나, 이는 기술력의 문제로 인해 높게 책정된 가격입니다. 저희 시스템에 맞게 보드와 카메라를 구성하면 소비자가 선호하는 단가를 충분히 낮출 수 있을거라 기대합니다. 실제로 네이버 쇼핑으로 찾은 카메라 대체품(장애물 알림 장치를 구현하기 위한 조건 충족)의 가격이 17,000원임을 고려했을 때 현재 가격에서 약 190,000원을 감소시킬 수 있습니다. 

다만, 3개월이라는 졸업작품 제작에 주어진 시간과 제품 구매 사이트 제한이 있습니다. 이를 보완하기는 어려우므로 저희는 30만원이라는 하드웨어 비용을 갖게 되었습니다. 

아직 시제품이 존재하지 않는 상황이고, 소비자의 반응과 수요를 고려해 부품 대량 생산을 진행하면 충분히 가격을 낮출 수 있을 것으로 생각합니다. 

앞선 인터뷰를 통해 자전거, 킥보드 운전자의 긍정적인 의사를 들었으므로 아이디어에 대한 가치는 분명합니다. 다만 가격적인 요소는 추후 업그레이드를 통해 보완할 수 있을 거라고 기대합니다.