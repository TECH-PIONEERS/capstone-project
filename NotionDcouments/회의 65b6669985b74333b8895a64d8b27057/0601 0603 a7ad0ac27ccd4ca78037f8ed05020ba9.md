# 0601/0603

상위 회의: 6월 (6%E1%84%8B%E1%85%AF%E1%86%AF%204d69b2b7be794120a3f326c2e843eca9.md)

## todo

- [final.py](http://final.py) : shot 문제 해결됨
- final_wall.py : 벽 문제 해결하다가 멈춤

goal_x, goal_y에 대한 threshold 값이 정확하지 않은 것 같음.

먼저 final.py를 실행하면서 goal_x, goal_y 반경 값이 정확하게 변경 이후에 final_wall 문제 해결

- [x]  goal_x, goal_y 반경 값 정확하게 변경
    - goal의 x, y 좌표
        - goal_x: 576, goal_y: 33
    - x의 threshlod: 10
    - y의 threshlod: 12
- is_within_goal 함수 수정 (공이 goal 범위 안에 있으면 True, 범위 밖에 있으면 False)
- utils에 임시 함수 추가
    
    def temp_return_ball_direction(previous_pos_x, previous_pos_y, current_pos_x, current_pos_y, previous_direction, threshold=5):
    
    - goal의 threshlod x, y 값이 달라서 pos를 x, y로 가져옴
    - 해당 함수 내에서 `is_within_goal` 함수를 불러와 사용
    - 기존 `return_ball_direction` 함수를 수정한 것으로, **previous_pos와 current_pos가 모두 홀 범위 안에 있을 시, previous_direction을 return 함

- [x]  비교과스터디 사진찍기
- [x]  샷을 쳤는데 안 쳤다고 하는 경우
    - 0603 1차 테스트 - 20 / 20
- [ ]  HW ) 벽 부딪히는 경우 (홀 뒤의 아크릴에 맞고 돌아오는 경우) → 뒷 부분 개조
- [ ]  goal 이후에도 out of range가 print 되는 문제
- [ ]  공 방향 위쪽인데 straight 뜨는 경우 → threshold 값 더 작게 수정
    - 공 방향 바뀌었을 때는 방향 알려주면 안됨.
    - x축에 대한 방향 바뀜도 확인해야함
- [ ]  홀 안에서 방향이 바뀌는 경우 → 홀 앞 까지만 direction 판단하는 것으로 일단 해결 방안 설정 ⇒ is_within_goal 함수 확인
- [ ]  TTS 속도 변경
    - pyttsx3 라이브러리 까보면서 설정해봐야할듯
- [ ]  이후에 align 됐을 때 소리가 나옴
- [x]  공 방향 TTS down/up을 left/right로 수정
- [x]  shot_flag가 True인데 TTS 뜨지 않음
    - game_lose 인데 해당 소리가 나지 않은 경우 ⇒ tts_flag가 4 10이 번갈아서 나타남. head_missing 부분에 shot_Flag == False라서 조건 추가
    - tts_process else: continue 추가

[0603 1차 테스트](0601%200603%20a7ad0ac27ccd4ca78037f8ed05020ba9/0603%201%E1%84%8E%E1%85%A1%20%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%203a2582195016430db65bc9fa8dd6948e.csv)

예외 케이스 

1. 13번째 test : 공이 밖으로 날아가버림 ⇒ lose가 안뜸