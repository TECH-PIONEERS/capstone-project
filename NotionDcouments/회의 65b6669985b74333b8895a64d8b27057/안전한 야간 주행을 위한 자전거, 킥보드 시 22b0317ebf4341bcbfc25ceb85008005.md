# 안전한 야간 주행을 위한 자전거, 킥보드 시스템/tech-pioneers

상위 회의: 장애물 알림장치 (%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20b9df15762f78490d923a2fc0dfd786b4.md)

# 안전한 야간 주행을 위한 자전거, 킥보드 시스템

> 해당 시스템을 기획서에서는 `주행 보조 장치`로 명명하겠습니다.
> 

**목차**

퍼스널 모빌리티란 개인이 이동할 때 사용하는 교통 수단으로 전기 자전거, 전동 킥보드, 전동 스쿠터 등이 포함됩니다. 최근 다양한 퍼스널 모빌리티 제품이 시장에 등장하면서 이를 이용하는 사람이 크게 늘고 있습니다. 특히 공용 자전거와 킥보드는 도시나 캠퍼스 내 가까운 거리를 간편하고 효율적으로 이동하기 위한 수단으로 인기를 끌고 있습니다.
저희 팀원 역시 짧은 거리를 이동할 때 공유 자전거를 자주 이용하며 개인 킥보드를 소지하고 있는 팀원도 있습니다. 마땅한 버스나 지하철 노선이 없는 거리를 이동하기에 자전거와 킥보드는 매우 유용합니다. 

![카카오바이크](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled.png)

카카오바이크

![팀원의 개인 킥보드](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/KakaoTalk_20240302_172437881_02.jpg)

팀원의 개인 킥보드

그러나 자전거나 킥보드를 사용하면서 도로에 있는 장애물을 발견하지 못해 휘청이거나 넘어지는 등 위험한 상황 또한 빈번했습니다. 팀원 중 대다수가 킥보드나 바이크를 타다가 넘어진 경험이 있었으며, 전동 킥보드를 타다가 날아갈 뻔한 팀원도 있었습니다.

또한 해당 문제에 대해 조사하는 과정에서 포트홀과 같은 도로 노면 요철로 인해 발생하는 사고에 대해서 알게 되었고 저희는 이러한 위험한 상황이 장애물 관련 보조 장치의 부재라 판단하였습니다. 

> **포트홀이란?** 아스팔트 콘크리트 포장 파손 중 40~50cm 면적과 **5~10cm 깊이**를 갖는 움푹 파이는 형태의 포장 파손을 말한다.
도로의 공용수명을 감소시킬 뿐만 아니라 교통사고가 발생할 수 있는 잠재적 가능성이 다른 포장 파손보다 높다.
> 

[자전거도로 포트홀 걸려 사망사고…보상 책임은 누구에게?](https://post.naver.com/viewer/postView.nhn?volumeNo=29399312&memberNo=38212397)

### **종업자 및 사용자 인터뷰**

자전거와 킥보드 이용 중 장애물과 도로 상태에 의해 겪는 위험한 상황이 실제로 해결해야 할 문제인지 그리고 `주행 보조 장치` 가 사용할 가치가 있을지 판단하기 위해 자전거 업계 종사자와 퍼스널 모빌리티 사용자에게 인터뷰를 진행했습니다.

**[ 인터뷰 대상자 ]**

노성민 : 코디 바이크 송도점 대표, **자전거 관련 업계 15년** 경력

자전거 라이더: 개인 바이크, **주 3일 1시간씩** 사용

염수형 : 공용 바이크, 지쿠터 **14시간 이상** 사용

김연주 **:** 개인 바이크**, 주마다 3시간 이상** 사용

김창우 : 공용 바이크, **주마다 3시간 30분 이상** 사용

**[ 가치 판단 ]**

**Q1 : 자전거를 타면서 위험한 상황이 있었나**

노성민 

위험한 상황은 빨리 달리다 주로 발생하는 것 같다.
스포츠카라고 해서 모두가 다 거칠게 운전하지는 않듯 속도감 있는 자전거가 많은데 이런 자전거를 타고 빨리 달리면 사고가 많이 난다. 
인도에서 빠르게 달리면 사람한테 위험하고, 차도에서 달리면 차보다는 자전거가 압도적으로 속도가 느리니 자전거가 위험해진다.
대부분의 위험한 상황은 휴대폰을 보거나 음악을 듣고 가다가 주변 상황을 파악하는 시간이 길어져서 발생한다.

자전거 라이더

천호동 사거리에서 지하철을 만들 때 구멍에 빠져서 어깨가 부러진 적이 있다.

염수형

많다. 턴을 할 때 보도블럭이 튀어나와있는 것을 보지 못해서 원심력으로 날아간 적이 있다. 장을 보고 비닐봉지 손잡이를 자전거에 걸어두고 운전하다가 조향이 걸려 넘어진 적도 있다.
눈이 오는 날에 전기 자전거를 타고 얼어붙은 곳을 지나가다가 크게 넘어지기도 했고 밤에 자전거를 타고 빠른 속도로 달리다가, 나뭇가지에 머리를 맞아 위험했던 상황을 겪은 적이 있다.

김연주 

주로 한강에서 자전거를 타는데, 한강 라이딩은 20km/h 속도 제한이 있어 천천히 달리는 편이기 떄문에 낮에 자전거를 이용할 때에는 크게 위험한 사고를 당한 적은 없다.
하지만 밤에 자전거를 타다가 앞에 있는 물체를 파악하지 못해 넘어지고 크게 다칠 뻔 했다. 그때 이후로 야간 주행을 할 때에 더 조심해서 자전거를 타고 있지만 자전거 라이트 만으로는 물체가 잘 보이지 않아 불편함이 있다.

김창우

자전거를 타고 방지턱을 내려가다가, 방지턱 바로 아래에 있는 고양이를 보지 못해 위험했던 적이 있다. 다행히 급제동을 걸어 멈출 수 있었지만 낮이었음에도 불구하고 물체가 눈으로 파악하기 어려운 위치에 있어 위험한 상황이었다.
자전거 전용 도로가 없는 경우 도로의 우측 가장 자리에서 자전거를 타다가 앞에 있는 사람이나 물체를 늦게 파악하여 다칠 뻔했던 적이 많다.
낮이나 밤이나 신경 써야 할 것들이 많아 앞에 있는 장애물도 잘 인식하지 못할 때가 있다고 느낀다.
야간에 주행할 때는 전면에 등을 이용하는 데 이것만으로 물체를 식별하기 어렵다고 느낀다.

**Q2:** `주행 보조 장치` **가 자전거를 타는 사람들에게 유용한 제품한가**

노성민 

유용할 것 같다. 특히나 야간 주행 시 라이더가 겪는 어려움에 도움이 될 것 같다. 야간 주행할 때 라이더가 겪는 딜레마가 있다. 밝은 라이트를 사용하면 잘 보이지만, 베터리를 많이 소모해서 2시간 정도면 꺼진다. 그렇다고 약한 라이트를 사용하면 잘 안 보인다. 이런 상황에서는 장애물을 미리 보고 피하기 어렵다.

자전거 라이더

 `주행 보조 장치`처럼 장애물 인식을 해주는 시스템을 부착하면 이런 사고는 없을 것 이다. 근데 사람이 앞을 보고 있을 때 장애물을 감지하는게 누가 더 빠를지 의문이다. 특히 야간에 필수일 것 같다. 자전거 라이트가 있기는 하지만 보통은 앞 사람 반짝이를 보고 주행한다. 야간에 앞 뒤로 장애물을 파악할 수 있는 장치가 있으면 좋을 것 같다.

염수형

자전거를 안전하게 탑승하는데 도움이 될 것 같다. 모듈 형태로 여러 종류의 자전거를 사용할 수 있다는 게 편리하다. 

김연주 

장애물을 보고 알려주는 기능이 있다면 사용 해보고 싶다. 특히 밤에 자전거를 타다가 위험한 사고를 당할 뻔했던 적이 많기에 유용하다고 느껴진다.

김창우

자전거를 안전하게 타고 싶은 사람에게 유용할 것 같다. 안전한 자전거 주행을 위한 기능들이 있고, 자전거 종류에 상관없이 사용할 수 있는 장치라는 점이 좋다. 카카오 바이크 같은 공용 자전거에 간단히 부착하여 사용해보고 싶다.

**[ 기타 질문 ]**

**Q3. 평소 자전거를 타면서 필요하다고 생각한 기능이 있는가**

염수형

바닥에 경로 화살표를 쏘는 형식으로 표시해주는 기능이 있으면 좋을 것 같다. 대중교통을 이용하기 애매한 짧은 거리에 자주 사용하는데 길을 잘 모르니까 핸드폰을 확인해야 한다. 이럴 때 많이 위험하다. 핸드폰을 보지 않아도 경로를 바로 알 수 있었으면 좋겠다.

김창우

자전거를 타다보면 앞 자전거를 추월할 때 미리 앞 자전거가 피할 수 있도록 자전거 벨을 울려줘야 한다. 하지만 최근 벨을 울리지 않고 추월하는 사람들이 많아 위험하다. 뒷사람이 벨을 울리지 않아도 앞에서 미리 알 수 있도록 해주는 기능이 있으면 좋겠다.

**Q4. 어떤 경우에 자전거 수리점에 자주 들리는가**

노성민

타이어가 터지거나 체인을 갈려고 오는 경우가 대다수다.

인터뷰를 통해 자전거와 킥보드를 이용하면서 겪게 되는 위험한 상황과 원인을 확인할 수 있었고 실제 사용자가 안전한 주행을 위한 장치에 대한 긍정적인 의사를 가지고 있음을 알 수 있었습니다. 

그리고 많은 사람들이 야간 주행 시 시야가 제한되고 조명이 부족하여 위험한 상황에 노출되기 때문에 야간 주행을 힘들어하는 것을 알게 되었습니다.

## 안전한 야간 주행을 위한 자전거, 킥보드 시스템

`주행 보조 장치` 는 TOF IR 센서와 초음파센서를 부착하여 주행 중에 실시간으로 **도로 노면 요철과  장애물을 탐지하여 사용자에게 알리는 시스템**입니다. 

이 시스템은 시야가 제한되는 **야간**에 특화되어 있습니다.

장애물 감지 기능과 알림을 조합한 모듈 형태로 압축벨트를 이용하여 고정합니다. 압축벨트를 사용하기 때문에 핸들 모양에 관계없이 다양한 자전거, 킥보드에 부착하여 사용할 수 있습니다. 

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%201.png)

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%202.png)

## 필요성

### 가치

자전거 운전자의 시야 한계로 인한 문제를 해결하고자 합니다.  특히 시야가 제한되는 야간 주행 시에는 육안으로 놓칠 수 있는 부분을 알려주어 위험 상황을 줄이는 것이 목표입니다.

**라이트만으로 부족한 시야 문제 해소**

야간에는 주변이 어둡기 때문에 시야 확보가 어려워 자전거 주행 사고 발생 위험이 높습니다. 

도로교통법(제 50조 9항)상 야간에 자전거를 주행하기 위해서는 전조등과 미등 같은 발광 장치를 착용해야 하기 때문에 대부분 야간 주행 시 라이트를 사용합니다.

그러나 라이트는 아주 가까운 시야만 확인이 가능하다는 문제를 갖고 있으며 라이트 종류에 따라 효과가 다릅니다. 시야 확보를 위해 밝은 라이트를 사용하면 배터리가 빠르게 소진된다는 문제점이 있고 밝기가 약한 라이트를 사용하면 배터리는 오래가지만 라이트로 확인할 수 있는 시야가 매우 적어 장애물이나 도로 상태를 파악하기 어렵다는 문제점이 있습니다.

![서울따릉이 유튜브 - 라이트 사용 관련
정면으로 각도를 올릴 경우 시야가 더 넓어지지만 다른 사람의 시야를 방해한다는 문제가 있음.](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%204.png)

서울따릉이 유튜브 - 라이트 사용 관련
정면으로 각도를 올릴 경우 시야가 더 넓어지지만 다른 사람의 시야를 방해한다는 문제가 있음.

`주행 보조 장치` 를 통해 야간에 멀리 있는 장애물을 탑승자가 인지할 수 있게 하고 전방 도로 경사를 판단하여 위험한 상황을 방지합니다.

**장애물 충돌로 인한 사고 방지**

TOF IR 센서와 좌우에 설치된 초음파 센서를 이용하여 멀리 있는 장애물을 탐지하고 경고음을 출력함으로써 탑승자가 장애물을 인지할 수 있도록 합니다. 이는 장애물을 발견하지 못했을 때 발생할 수 있는 충돌 문제를 방지하는데 도움이 됩니다.

또한 야간 라이딩 시에는 후방에서 접근하는 자전거 및 차량으로부터 자신을 알리는 용도의 후미등을 사용해야 하는데, 이는 라이더의 존재를 알리는 역할에 불과하며 직접적으로 후방에서 접근하는 자전거 및 차량을 파악하는데 어려움이 있습니다. 자전거 탑승자들의 인터뷰를 통해 후방에서 접근하는 자전거 및 차량이 있는지 알려주는 기능이 필요하다는 것을 확인하였습니다. 후면에 달린 초음파 센서를 통해 후방의 물체를 탐지하여 해당 문제를 해결하고자 합니다.

**도로 노면 요철로 인한 자전거 사고 방지**

자전거, 킥보드로 운전하다 보면 도로에 움푹 파인 부분 및 보도턱이 있는 부분처럼 예상치 못한 상황을 만나게 됩니다. 시야가 한정된 야간에 인도 경계석과 같은 턱이나 포트홀에 쉽게 대응하기 힘듭니다. `주행 보조 장치` 를 통해 노면 요철을 감지합니다.

## 경쟁사 분석

**지쿠터 K2**

지쿠터 K2는 기존 킥보드에 비해 하드웨어적 성능이 개선된 킥보드입니다. AIoT기술과 카메라, ADAS시스템을 적용하여 장애물과 바닥 환경 등 다양한 주변 환경을 분석하여 사고 위험을 자동으로 예측하는 모델 개발하겠다는 의사를 밝혔습니다. 

### **기존 제품의 문제점 및 차별성**

**아직까지 적용되지 않은 AIoT 기술**

현재 출시 예정인 K2는 인체공학적 디자인을 적용 및 발판의 무게 중심을 낮춰 입문자도 쉽게 탈 수 있도록하여 탑승 안전성을 강화한 형태로 AIoT 기술은 아직까지 적용되지 않았습니다. 

[장애물 감지·자동 감속…공유킥보드, IT 접목 '안전' 무장](https://www.etnews.com/20220920000175)

**탈부착 여부**

회사 공용 킥보드 자체에 장착되는 용도로서 다른 자전거나 개인 소유의 킥보드에 적용이 불가합니다. 

**도로 노면 요철 파악**

기존 제품은 도로의 노면 요철을 파악하는 기능이 없기 때문에 주행 중 도로 노면 요철로 인해 발생하는 문제를 예방할 수 없습니다. 

## 해결 방안 및 핵심 기능

### TOF IR 센서를 이용한 도로 노면 **요철 및 전방 장애물 판별**

TOF IR 센서로 도로 노면 요철과 장애물을 구분합니다.
전방 장애물의 경우 최대 12m 거리의 장애물에 대해 경고음을 출력할 수 있습니다.

**초음파 센서가 아닌 TOF** **IR 센서를 사용하는 이유**

- 매우 **정확한 거리 측정**이 가능합니다. 
07년 2월 시작된 ‘보도턱 낮추기 시설 설치개선 운용지침’에 따라 설치된 보도블록은 보도턱 높이 1cm 이하 규정을 지키고 있지만, 지침 이전에 시공된 보도턱의 경우 높이가 제각각이며 최대 높이는 약 10cm입니다. 이는 높지 않은 크기로 초음파 센서로는 판별이 어려울 수 있어 TOF IR 센서를 사용합니다.

서로 TOF IR 센서 3개를 서로 다른 각도로 바닥면을 향하게 배치합니다. 
이때 d3, d2 그리고 d1의 간격이 최소 40~50cm가 되도록 배치합니다.

> 포트홀의 면적을 고려하여 간격이 최소 40~50cm가 되도록 설정
> 

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%203.png)

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%204.png)

센서가 인식한 거리 d로부터 노면의 높이 h를 계산하기 위해서는 다음과 같은 공식을 사용할 수 있습니다. 여기서 **α**는 센서가 설치된 각도입니다.

$$
h = d \times \cos \alpha
$$

h는 확장 칼만 필터를 사용하여 장애물/포트홀을 탐지하는 과정에서 사용됩니다.

**턱&장애물과 도로 노면 요철 탐지**

TOF IR 거리 센서를 사용하여 도로 위의 거리 데이터를 수집합니다. 
확장 칼만 필터를 적용하여 수집된 데이터를 필터링하고 장애물 및 포트홀을 판별합니다. 

칼만 필터는 오차를 가지는 관측치로부터 시스템의 상태를 추정하거나 제어하기 위한 기술로 기본적으로 선형 시스템에 적용됩니다. 그러나 현실의 많은 시스템이 비선형 성을 가집니다. 이런 경우 칼만 필터를 사용했을 때 좋지 않은 결과를 얻을 수 있기 때문에 비선형 칼만 필터를 사용하고자 합니다. 

비선형 시스템에서 사용할 수 있는 칼만 필터는 확장 칼만 필터와 무향 칼만 필터가 있습니다. 확장 칼만 팔터는 칼만 필터에서의 선형성 가정을 완화시켜, 더 일반적인 시스템에 대해서도 사용이 가능하도록 확장한 것을 의미합니다. 무향 칼만 필터는 평균 주변에 (시그마 점(sigma point)으로 불리는) 샘플 포인트의 최소 집합을 얻기 위해, 무향 변환으로 알려져 있는 결정론적인 샘플링 기술을 활용합니다.

![확장 칼만 필터](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%205.png)

확장 칼만 필터

저희는 EKF(확장 칼만 필터,Extended Kalman Filter)를 적용해 선형 시스템에만 적용되는 일반적인 칼만 필터의 단점을 해소합니다. 무향 칼만 필터는 확장 칼만 필터에 비해 연산량이 많으므로, 실시간으로 판단해야 하는 저희 시스템에 부적합하여 EKF를 선택하게 되었습니다. 

결론적으로 EKF를 적용하여 TOF IR로부터 수집한 데이터의 잡음을 제거하고 필터링 된 데이터를 기반으로 추정된 상태를 분석하여 장애물과 포트홀을 탐지합니다.

> 아래 그래프는 케이스 별 TOF IR 센서 값 즉 거리 값을 임의로 나타낸 모습입니다.
> 

 물체(지면)와 가까울 경우 거리가 감소하기 때문에 TOF 센서의 출력 값도 변화합니다. 즉, 장애물이나 턱이 생길 경우 센서 값이 줄어들고 움푹 파인 곳이 있을 경우 거리가 늘어나기 때문에 센서 값이 증가합니다.

**1) 턱 & 장애물**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%206.png)

![[예시] 턱 & 장애물 최초 탐지 그래프](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%207.png)

[예시] 턱 & 장애물 최초 탐지 그래프

![[예시] 턱 & 장애물 전체 그래프](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%208.png)

[예시] 턱 & 장애물 전체 그래프

**2) 포트홀**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%209.png)

![[예시] 포트홀 전체 그래프](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2010.png)

[예시] 포트홀 전체 그래프

**참고 문헌**

> 김희승, 이민영, 박상철, 이수용(2010). 적외선 거리 센서를 이용한 시각 장애자용 계단 감지 시스템. 한국차세대컴퓨팅학회 논문지.
> 

### **초음파 센서를 이용한 장애물 탐지**

좌우와 후방은 초음파 센서를 이용합니다. 장애물과의 거리를 측정하여 좌우는 **1.5m,** 후방은 **3m** 이내 장애물에 대해 경고음을 출력합니다. 

**초음파 센서 작동 원리**

물체에 반사된 음파를 그대로 센서로 입력 (진동)시켜서 발생된 전압을 회로에서 처리해 측정 거리를 계산합니다. 앞바퀴 좌우에 초음파 센서를 부착하여 탑승자 주변에 있는 장애물을 감지합니다.

![초음파 센서 작동 원리](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2018.png)

초음파 센서 작동 원리

**1 ) 좌우 장애물 판별**

좌우 케이스의 경우 장애물과 자전거 사이 거리가 [1.5m 이하](https://imnews.imbc.com/replay/2017/nwdesk/article/4361769_30212.html)일 경우 장애물에 대한 경고음을 출력합니다. 현재 이격 거리에 대한 기준이 법적으로 정해져 있지 않지만, 한국건설기술연구원의 실험을 통해 최소 1.5m라는 기준을 정하게 되었습니다.

전방에 장애물이 나타났을 경우, 자전거의 좌우 장애물을 살펴봄으로써 적절한 경로를 제시합니다.

![야간 주행 시 사용자가 장애물을 인지하는 과정 (좌우)](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2011.png)

야간 주행 시 사용자가 장애물을 인지하는 과정 (좌우)

**2) 후방 장애물 판별**

후방은 안전 거리를 고려해 3m 이내 장애물을 파악합니다. 

![야간 주행 시 사용자가 장애물을 인지하는 과정 (후방)](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2012.png)

야간 주행 시 사용자가 장애물을 인지하는 과정 (후방)

## 서비스 순서도

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2013.png)

**전방 장애물 및 도로 노면 요철 탐지**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2014.png)

**전방 장애물 감지**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2015.png)

**후방 장애물 감지**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2016.png)

## **하드웨어**

**ARDUINO NANO EVERY**

![12229355_tmp_9f3f37d9455c39e6311c92eef0e8662c2774view.jpg](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/12229355_tmp_9f3f37d9455c39e6311c92eef0e8662c2774view.jpg)

본 기기에서 사용되는 포트는 I2C 4개, UART 1개 소모되며, 초음파 센서 구동을 위해 GPIO 8개가 추가로 요구됩니다.

ARDUINO NANO EVERY는 14개의 디지털 입, 출력 핀을 가지고 있으며, I2C1개, UART1개를 가지고 있습니다.

또한 본 기기에서 I2C는 4개 소모되지만, I2C가 하나밖에 없는 문제가 있습니다. (센서의 주소가 모두 동일하여 I2C 채널이 많이 필요합니다.) 이는 I2C multiplexer을 사용하여 I2C를 4 channel로 확장하여 해결 가능합니다.

경고음을 재생하기 위한 플레이어는 UART를 사용하고 NANO EVERY는 이를 지원하여 무리 없이 사용 가능합니다.

또한 20Mhz ARM M0 코어는 Extended Kalman Filter 등을 구동하기에 부족함 없는 성능을 보여줍니다.

**TOF IR 센서**

![TOF.png](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/TOF.png)

이 TOF IR 센서는 measurement range 0.2m ~ 12m으로 충분한 인식 거리를 제공합니다. 또한 minimum resoultion은 1mm로 충분한 수준의 분해능을 보여줍니다.

**초음파 센서**

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2024.png)

이 초음파 센서는 ranging distance 20mm ~ 5000mm, resolution 3mm, effectual angle < 15º의 스펙을 만족하고 있습니다.

따라서 앞바퀴 양 옆에 장착 하였을 시 자전거 좌우 안전 권장 거리인 1.5m와 후방의 안전거리 3m를 만족할 수 있습니다.

**스피커** 

![Untitled](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2021.png)

장애물 감지 시 사용자에게 경고음을 출력하기 위해 사용합니다. 

**배터리**

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2017.png)

3.7V 2000mAh 즉 7.4Wh용량의 배터리 입니다. 

## PCB

 본 제품은 모빌리티에 장착되는 용도입니다. 따라서 주행 시 진동과 충격이 발생하게 됩니다. 이는 제품의 내구성에 문제가 발생될 수 있고, 각동 커넥터류의 탈락을 유발할 수 있습니다. 특히 캡스턴 디자인에서 주로 사용되는 점퍼 케이블의 경우 약한 진동이나 충격에도 쉽게 떨어져 제품의 내구성이 떨어지게 됩니다. 이를 방지하기 위해 PCB 기판을 설계하여 기판에 실장할 수 있는 부품은 최대한 실장하여 충격에 떨어지지 않도록 합니다. 또한, 기판에 실장할 수 없는 부품의 경우에는 다음과 같은 커넥터를 이용하여 제품을 제작합니다. 

![JST PH 시리즈](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2018.png)

JST PH 시리즈

![MOLEX 5267시리즈](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2019.png)

MOLEX 5267시리즈

위 커넥터는 RC카, 드론 등에 사용되는 커넥터입니다. 특유의 진동과 충격이 발생하는 환경에서 충분히 내구성이 입증된 모델입니다.

![GOLD CONN N-16 시리즈](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2020.png)

GOLD CONN N-16 시리즈

![삼우전자 N-12 시리즈](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2021.png)

삼우전자 N-12 시리즈

함체 외부 커넥터는 GOLD CONN N-16시리즈와 삼우전자의 N-12시리즈를 이용하였습니다. 해당 커넥터는 산업용 용도로 사용되는 커넥터로서 나사형으로 고정되어 진동과 충격에도 빠지지 않고 내구성을 유지할 수 있습니다. 또한 약한 수준의 방수 방진 역시 가능한 장점이 있습니다.

기판의 설계는 Ki CAD를 이용하여 진행됩니다.

![설계한 PCB 예시 이미지](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2022.png)

설계한 PCB 예시 이미지

![모빌리티에 적용된 PCB 기판](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/KakaoTalk_20240303_132938475.jpg)

모빌리티에 적용된 PCB 기판

## **모델링**

센서와 아두이노 나노 등 하드웨어를 감쌀 케이스를 3D 프린터로 출력합니다.

AutoDesk 123D를 사용하여 모델링을 진행합니다.

교내 메이커스페이스 및 팀원이 개인적으로 소지하고 있는 3D프린터를 이용할 예정입니다.

### 구상

전방 장치는 자전거 수리점 대표님의 조언에 따라 핸들 중앙에 부착합니다.
좌우 초음파센서는 앞바퀴에 후방 초음파센서는 모빌리티 후면에 부착합니다.

![킥보드](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2023.png)

킥보드

![자전거](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2024.png)

자전거

압축벨트를 사용하여 고정합니다.
압축벨트를 사용하여 핸들 생김새와 바구니 여부에 관계없이 다양한 퍼스널 모빌리티에 부착시킬 수 있습니다.

![압축벨트](%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8B%E1%85%A2%E1%84%86%E1%85%AE%E1%86%AF%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%201ef73c383acd4c349e943bc3227aca97/Untitled%2025.png)

압축벨트

## **핵심 팀 구성원 소개 및 업무 내용**

박주미

팀장

- 장애물 감지했을 때 동작에 대한 코드 작성
- 확장 칼만 필터 코드 작성
- 전방 장애물 감지 알고리즘 설계

---

구민성

팀원

- 하드웨어 패키징
- 3D 모델링
- 아두이노 펌웨어
- PCB 아트웍

---

류지수

팀원

- 3D 모델링
- 후방 장애물 인식
- 확장 칼만 필터 코드 작성

---

한예지

팀원

- 좌우 장애물 인식
- 확장 칼만 필터 코드 작성
- 전방 장애물 감지 알고리즘 설계

## 일정표

![Untitled](%E1%84%8B%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8B%E1%85%A3%E1%84%80%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%AE%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8B%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%8C%E1%85%A1%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%80%E1%85%A5,%20%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3%20%E1%84%89%E1%85%B5%2022b0317ebf4341bcbfc25ceb85008005/Untitled%2025.png)

## 평가

**장애물 탐지 기능**

- 좌우와 후방의 물체를 파악하여 경고음을 출력하는지 파악합니다.

**도로 노면 요철 판별 기능**

- 평지, 턱 & 장애물, 포트홀이 있을 경우에 따른 상태 변화를 확인합니다.

## 지원 경비 사용 계획서

### 하드웨어 구성요소 (디바이스마트)

| 모델명 | 단가 | 수량 | 가격 | 용도 | 링크 |
| --- | --- | --- | --- | --- | --- |
| [Arduino]
  Arduino Nano Every | 18,000 | 1 | 18,000 | 마이크로컨트롤러 | https://www.devicemart.co.kr/goods/view?no=1265700 |
| [DFROBOT]TOF
  IR Distance Sensor (0.2~12m) [SEN0413] | 30,700 | 5 | 153,500 | 전방 포트홀, 둔턱 감지용 거리센서 | https://www.devicemart.co.kr/goods/view?no=13917739 |
| [Adafruit]Adafruit
  PCA9546 4-Channel I2C Multiplexer - TCA9546A Compatible [ada-5663] | 6,600 | 1 | 6,600 | 거리센서 연결용 I2C멀티플렉서 | https://www.devicemart.co.kr/goods/view?no=14908044 |
| [OEM]초음파
  거리센서 모듈 HC-SR04 [SZH-EK004] | 1,100 | 4 | 4,400 | 측면, 후면 물체 감지용 센서 | https://www.devicemart.co.kr/goods/view?no=1076851 |
| [DFROBOT]DFPlayer
  - A Mini MP3 Player [DFR0299] | 8,900 | 1 | 8,900 | 경고음 플레이어, 앰프 | https://www.devicemart.co.kr/goods/view?no=1278727 |
| [SMG]DIY용
  스피커 유닛 4Ω 3W 2인치(실버) [SY-SPK059] | 4,900 | 2 | 9,800 | 경고음 스피커 | https://www.devicemart.co.kr/goods/view?no=12236769 |
| [SanDisk]MicroSDHC,
  Class4 16GB [벌크/어댑터미포함] [SDSDQAB-016G] | 4,400 | 1 | 4,400 | 경고음 저장장치 | https://www.devicemart.co.kr/goods/view?no=10938875 |
| [(주)제이케이이엠씨]리튬폴리머
  배터리 DTP634169 3.7V 2000mAh KC인증 | 6,710 | 1 | 6,710 | 배터리 홀더 | https://www.devicemart.co.kr/goods/view?no=12710292 |
| [SMG]
  리튬배터리 USB C 충전 방전 2A 모듈 [HPRO-0018] | 3,000 | 1 | 3,000 | 배터리 충방전 모듈 | https://www.devicemart.co.kr/goods/view?no=15009594 |
| [NW3(중국)]
  하네스 커넥터 2핀 [NW3-A2001-02AW] | 20 | 2 | 40 | 배터리 PCB 커넥터, 충전 PCB 커넥터 | https://www.devicemart.co.kr/goods/view?no=1322933 |
| [MOLEX]5267-04
  (색상옵션) | 30 | 11 | 330 | 초음파 센서, TOF센서용 PCB 커넥터 | https://www.devicemart.co.kr/goods/view?no=419 |
| [NW3(중국)]
  하네스 케이블 커넥터 4핀 [NW3-5264-04] | 300 | 11 | 3,300 | 초음파 센서, TOF센서용 내부용 하네스 | https://www.devicemart.co.kr/goods/view?no=10894401 |
| [BIND]C타입
  USB 3.1 IPX5 방수 버클 잠금 커넥터 투명 [SZH-CON031] | 800 | 1 | 800 | 충전용 함체 커넥터 | https://www.devicemart.co.kr/goods/view?no=15091991 |
| [GOLDCONN]
  N-16-4R | 900 | 1 | 900 | 후방 센서 연결용 함체 커넥터 | https://www.devicemart.co.kr/goods/view?no=15223 |
| [GOLDCONN]
  N-16-4P | 1,000 | 1 | 1,000 | 후방 센서 연결용 함체 커넥터 | https://www.devicemart.co.kr/goods/view?no=15224 |
| [삼우전자]N-12-4R | 1,200 | 2 | 2,400 | 측방 센서 연결용 함체 커넥터 | https://www.devicemart.co.kr/goods/view?no=15217 |
| [삼우전자]N-12-4P | 1400 | 2 | 2,800 | 측방 센서 연결용 함체 커넥터 | https://www.devicemart.co.kr/goods/view?no=15218 |
| [TensilityInternational
  Corp] 30-00387 | 20,690 | 1 | 20,690 | 센서 외부 연결선 | https://www.devicemart.co.kr/goods/view?no=10745937 |
| [NW3
  (중국)] 하네스 케이블 커넥터 2핀 [NW3-5264-02] | 180 | 2 | 360 | 스피커 내부 연결선 | https://www.devicemart.co.kr/goods/view?no=10894399 |
| [MOLEX]5267-02
  (색상옵션) | 30 | 2 | 60 | 스피커 PCB 연결 커넥터 | https://www.devicemart.co.kr/goods/view?no=417 |
| [OEM]NT-
  DIY 수축튜브 280세트 | 8,000 | 1 | 8,000 | 배선작업용 수축튜브 | https://www.devicemart.co.kr/goods/view?no=1320937 |
|  |  | VAT 미포함 | 255,990 | VAT 포함 | 281,589 |