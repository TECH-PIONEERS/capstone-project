# 퍼팅서포터/tech-pioneers - 백업

상위 회의: 사운드골핑/tech-pioneers -백업 (%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%208ace22f765394b899c17514a91567b95.md)

**목차**

 

## 요약

### 핵심 주제

**시각장애인용 골프 퍼팅 훈련 매트를 제작함으로써 퍼팅 연습을 도와준다.**

### 핵심 요소

1. **훈련 매트 설계 및 제작**
    - **필요 이유** : 시중에 나온 제품과 달리 시각장애인 맞춤형으로 만들기 위해 필요하다.
    - 구현 핵심 요소
        - 매트의 좌, 우, 홀 뒤에 가림막을 설치하여 공이 매트 밖으로 나가는 케이스 방지
        - 골프공 위치 인식 위한 카메라 설치
2. **홀 대비 골프공의 위치** 
    - **필요 이유** : 골프공의 위치가 필요한 이유는 시각장애인은 현 위치에서부터 퍼팅 거리를 육안으로 알 수 없기에 알려줘야 한다.
    - 구현 핵심 요소
        - opencv 색상 기반 골프공 추적
        - IR 카메라 좌표와 opencv로 획득한 골프공 위치 좌표를 일치시키는 작업
        - 공의 궤도 추적하여 알림
3. **헤드 정렬**
    - **필요 이유** : 골프에서 열거나 닫는 등 골퍼의 판단에 따라 치려면, 우선 헤드 정렬이 되어야 한다. 하지만 시각장애인은 비장애인과 다르게 헤드 정렬을 확인할 수 없다.
    - 구현 핵심 요소
        - 홀, 공, 헤드 정렬
        - 홀과 공 정렬
        - 공과 헤드 정렬
4. **부가기능 - 음성**
    - 필요 이유 : 시각장애인은 주로 청각에 의존하여 판단을 한다. 판단을 위해 TTS와 비프음을 사용한다. 골프 특성상 많은 TTS를 제공하면 긴 문장을 끝까지 듣기 부담스러우므로 간단한 비프음을 주로 활용한다.
    - 구체적인 상황 별 음성 제공

## 피드백 기반 추가 사항

1. **공과 클럽의 헤드를 정렬하고 알림하는 기능은 3개월 가량의 캡스턴 주제로 맞지 않음**
    
    실내에서 사용할 수 있는 ‘시각장애인용 골프 퍼팅 훈련 매트’를 제작함으로써 **‘퍼팅’ 기술에 집중**하여 개발 할 계획이다. 본 프로젝트를 위해 tech-pioneers가 해야 할 핵심 요소는 다음과 같다.
    
    - 훈련 매트 설계 및 제작
    - 홀 대비 골프공의 위치
    - 헤드 정렬
    
    헤드 정렬 기능 외 기능을 추가하였으며 ‘시각장애인용 골프 퍼팅 훈련 매트(조립형)’ **제작**이 포함되어 3개월 기간에 만들기 충분한 프로젝트로 생각한다. 
    ****
    
2. **골프를 치는 스타일에 따라 일자 정렬을 하지 않아야 되는 경우가 많다.**
본 피드백을 바탕으로 3월9일 시각장애인 2차 인터뷰를 진행하였다. 
골프에서 열거나 닫는 등 골퍼의 판단에 따라 치려면, 우선 헤드 정렬이 돼야 한다는 답변을 받았다. 비장애인은 직접 보고 정렬을 하면 되니까 문제 되지 않지만, **시각장애인에게는 정렬 자체부터 안 된다는 게 문제**이다.
결론적으로 열거나 닫는 것은 후의 이야기이고 정렬이 우선으로 되어야 그 이후 동작이 가능하다. 따라서 시각장애인에게 있어 일자 정렬은 필수적인 요소이다. 

1. **핵심기술에 집중**
    
    골프 자세 중 ‘퍼팅’ 에 집중하여 개발한다. 시각장애인은 홀까지의 거리가 가늠이 안 되기에 퍼팅을 어려워한다. **시각장애인용 골프 퍼팅 훈련 매트를 제작함으로써 퍼팅 연습을 도와준다**.  본 시스템은 시각장애인이 ‘퍼팅’을 잘 치기 위한 보조 도구로써 다음 요소를 개발할 예정이다.
    
    - 골프공의 위치
    - 헤드 정렬
    

## 배경

어렸을 때부터 시각장애인과 관련된 봉사를 많이 해오면서 곁에서 그들의 일상을 느꼈다. 비장애인이 생각하기에 당연하고 자연스러운 일이 그들에게 있어서는 큰 장애다. 

친한 시각장애인 지인분과 대화를 하던 중, 의식주가 해결이 되면 취미로 눈길을 돌리게 되는데 그 취미를 하는데 있어서 어려움이 많다는 것을 듣게 되었다. 비장애인이 쉽게 눈으로 인지하는 것을 시각장애인은 TTS가 없으면 접근하기 힘든 경우가 많다. 

골프에서 사용하는 트랙맨을 비장애인은 불편함 없이 이용하지만, 비장애인에 맞춰진 서비스이기에 시각장애인은 사용에 고충을 가지고 있다. 이런 고충을 해결하기 위해 골프에서 사용할 수 있는 시각장애인을 위한 서비스를 제작하고자 하였으며 다양한 요소 중 퍼팅을 기준으로 공과 헤드가 정렬되었는지, 공이 어디에 있는지 확인해주는 시스템을 만들기로 하였다.

### 시각장애인 골프 방식

시각장애인의 골프는 비장애인의 골프 방식과 차이가 있다.
시각장애인이 골프를 하기 위해서는 **‘서포터’** 1명이 반드시 필요하다.
시각 장애인은 혼자 골프 할 수 없어 실제 블라인드 골프 경기에서도 서포터 1명과 함께 경기를 진행한다. 

여기서 서포터의 역할은 시각장애인에게 **공의 위치**를 알려주고 **헤드의 위치**를 잡아주는 것이다. 

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%201.png)

시각장애인은 공을 위치 파악하는 것도 힘들고 공과 헤드를 정렬하는 것이 불가능하기 때문에 **서포터없이는 골프를 즐기기 힘들다.**

tech-pioneers는 **서포터 역할을 대신**하는 서비스를 만들어 시각장애인 혼자서도 골프를 즐길 수 있도록 하고자한다.

## **시각장애인 인터뷰**

### 24.03.05 1차 인터뷰

1. **골프를 얼마나 자주 치는지**
    
    매주 1-2번 친다. 시간이 안 되면 못 치러 가기도 하지만, 스크린 골프장에 가서 꾸준히 치고 있다. 골프를 친 지 3년 됐다.
    

1. **골프를 치면서 불편한 점이 있었는가**
    
    여러 불편한 점이 있다.
    
    무엇보다도 헤드 정렬하는 기능이 있었으면 좋겠다. 공과 헤드가 일자로 되어있는지 알지 못한다.
    이게 제일 중요하다고 생각하는 이유가 어드레스 셋업 때문이다. 이 부분이 해결되면 많은 도움을 받을거라 생각한다.
    
    다음은 공의 위치를 알기 어렵다는 점이 있다. 
    비장애인에게 있어 공의 위치가 어디 있는지 인지하는 것은 당연한 일이다. 그래서 이와 관련해 따로 제공되는 서비스가 없다. 
    하지만 시각장애인들은 공의 위치를 알지 못한다는 문제를 가지고 있다. 
    공의 위치를 음성으로 알려줬으면 좋겠다. 
    
2. **본 시스템을 구상하면 사용할 의향이 있는 가? 금전적 가치가 있는지**
    
    이 시스템이 제공되면 골프 칠 때마다 사용할 것이다. 나만 쓰는 게 아니라, 같이 골프치는 시각장애인분들에게도 소개하고 싶다.
    
    아무래도 시각장애인 골퍼가 비장애인 골퍼보다 많지 않긴하다. 그렇지만, 시각장애인이 가질 수 있는 취미가 한정적인데, 취미의 폭을 넓혀줄 수 있다는 점, 골프가 어렵고 장벽이 있어 접근하지 못했던 시각장애인이 시도해볼 수 있는 점에 있어 기회가 된다. 이런 사회적 효용을 생각하면 골프존, 카카오vx 등 여러 인도어 골프장에 배치하는 측면에서 충분히 금전적 가치가 있다고 생각한다.
    
3. **골프에서 TTS를 제공한다면, 어떤 형식으로 제공해주는 게 좋은가**
    
    아무래도 TTS로 문장을 듣는 것은 골프를 치는 상황에서 적절하지 않은 것 같다. TTS로 음성을 듣기 보다, 비프음으로 알려주는 게 더 효과적이다. 가령 왼쪽이면 높은 음, 오른쪽이면 낮은 음 등으로 구분하면 좋을 것 같다.
    

인터뷰를 통해서 시각장애인이 골프를 칠 때 불편한 점 그리고 필요로 하는 점을 알 수 있었다. 

### 24.03.09 2차 인터뷰

골프 아이디어 피드백 내용을 수렴해 2차 인터뷰를 진행하였다. 

1. **골프 치는 스타일에 따라 일자 정렬을 하지 않아도 되는 경우가 많은데 골프 칠 때 헤드 정렬이 중요한가**
    
    시각장애인에게 있어 헤드 정렬은 중요하다. 열거나 닫는 것처럼 여러 스타일로 치려면 헤드 정렬이 되어야 한다. 비장애인은 직접 보고 치면 되니까 문제가 안 되지만, 시각장애인에게는 정렬 자체부터 안 된다는 게 문제이다. 치는 스타일은 골퍼가 정하지만, 그걸 위한 헤드 정렬이라는 ‘기준’이 필요하다.
    

1. **가정용 골프 매트를 활용해 퍼팅을 연습하는 본 아이디어에 대해 어떻게 생각하는지?**
    
    퍼팅을 연습할 수 있으니 좋다고 생각한다. 샷은 치면 되지만, 퍼팅은 시각장애인에게 어려움으로 다가온다. 
    
    특히나 퍼팅에 있어 헤드 정렬이 중요하다. 홀 위치에 맞춰 똑바로 가는지, 비뚤어져 가는지 알 수 없다. 
    

1. **스크린 골프장에 가서 자주 골프를 친다고 하셨는데, 필드에서의 서포터처럼 도와주는 사람이 존재하는가**
    
    스크린 골프를 치는 상황에서 서포터처럼 전문적인 존재가 있진 않다. 비장애인 친구들과 같이 하거나 혼자서 한다. 비장애인 친구들과 같이 골프를 칠 때는 친구가 서포터의 역할을 해준다. 하지만 혼자서 칠 때는 아무래도 주변 도움이 없다보니 정확성이 떨어진다.
    

## 가치

**시각장애인에게 골프란**

골프는 남녀노소를 막론하고 체력 및 체격에 상관없이 즐길 수 있는 생활 체육으로서, 시각장애인이 즐기기에 매우 좋은 스포츠로 여겨지고 있다. 또한 골프는 시각장애인의 활동량을 늘릴 수 있어 건강에 긍정적 영향을 주고, 다른 사람과 소통을 통해 사회적 여가 활동을 할 수 있어 시각장애인의 장애 특징 상 부족한 부분을 보완할 수 있는 스포츠이다.

한 시각장애 골퍼 이재환씨는 지인의 골프 경험담을 듣고 골프를 접하게 되었다. 그는 스포츠에 대한 두려움이 있었지만 이내 도전해보게 되었고, 골프를 통해 평소에 억눌려 있던 것이 해방되는 느낌이 들었다고 말했다. 이렇듯 골프는 많은 시각장애인에게 사랑 받고 있는 스포츠이다.

이에 2007년 대한시각장애인골프협회가 설립되었고 매해 여러 차례의 시각장애인 골프 대회가 개최되고 있다.  2023년 5월에는 골프존문화재단에서 대한장애인체육회와 함께하는 ‘2023 장애인 골프 대축제’를 개최하며 시각장애인의 골프 활동이 꾸준한 성장을 이루고 있음을 입증하였다.

![2023년 5월 30일, 골프존 조이마루에서 진행된 '장애인 스크린골프대회'의 단체사진. [사진= 골프존]](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled.png)

2023년 5월 30일, 골프존 조이마루에서 진행된 '장애인 스크린골프대회'의 단체사진. [사진= 골프존]

**골프 활동에 어려움을 겪는 시각장애인**

> “시각장애인에게는 골프장의 문턱이 너무 높습니다.”
> 
> 
>                                                                                      - 시각장애 골퍼 박영해
> 

이렇듯 골프는 다른 스포츠 활동에 비해 시각장애인이 비교적 쉽게 참여하여 즐길 수 있는 스포츠 이지만, 실제 시각장애인이 골프 활동을 즐기기에 어려운 실정이다. 현재 스크린 골프장과 같은 대부분의 실내 골프장은 비장애인을 중심으로 인프라를 갖추고 있다.

시각장애인은 골프공의 위치를 파악하기 어려워 헤드와 정렬하는 것이 쉽지 않다. 현재 출시된 골프 서비스들은 음성을 출력해주는 시스템이 없어 시각장애인이 골프 활동을 하는데 어려움이 있다. 

이에 시각장애인은 서포터의 도움을 받아야 제대로 골프를 할 수 있다. 서포터는 공의 위치를 알려주고, 어드레스 때 클럽 페이스가 타깃에 직각이 되도록 얼라인먼트를 해주는 과정을 목소리로 알려준다. 이렇듯 서포터의 도움이 있어야 골프를 할 수 있기에, 비장애인 지인에게 서포터 역할을 부탁해야 하거나 비용을 지불해야 하며 실내에서 간편하게 골프를 즐기고 싶어도 쉽지 않은 경우가 많다.

**시각장애인의 골프 활동 관련 편의 증진**

그리하여 tech-pioneers는 시각장애인이 서포터 없이도 골프를 할 수 있도록 하는 실내 골프 서비스를 개발하고자 한다.

해당 서비스를 통해 공과 헤드가 정렬 되었는지 확인하고 이를 사용자에게 음성으로 알림을 주는 기능을 개발하여 시각장애인의 골프 활동 관련 편의를 증진할 수 있다.

이때, 해당 서비스는 실내 골프 매트의 형태로 이루어져 있기 때문에 우타, 좌타 상관없이 모든 시각장애 골퍼가 간편하게 사용할 수 있다.

**시각장애인의 스포츠 관련 취미 접근성 향상**

보건복지부의 2020년 통계에 의하면, 장애인의 여가 활동 중 스포츠 활동은 10.5%로 가장 적은 지표를 나타냈다. 이에 해당 서비스는 시각장애인의 스포츠 활동을 돕는 서비스로 시각장애인의 스포츠 및 취미 접근성을 높이는 것에 대한 사회적 효용성 증가 가치가 있다.

## 차별성

현재 출시된 골프 서비스 중 시각장애인을 위한 골프 서비스는 없다.

애플리케이션 및 실내 골프장에 설치된 골프 서비스 중 시각장애인을 위한 골프 서비스를 찾아보았으나, 대부분 서비스가 비장애인만을 대상으로 운영되고 있으며 골프 과정 등을 음성으로 지원하는 서비스 및 시각장애인 전용으로 상용화된 골프 서비스를 찾을 수 없었다.

해당 서비스는 실내 골프 매트의 형태를 띄고 있다. 기존의 실내 골프 매트는 필드의 역할을 하는데 그친다. 센서가 내장되어 공의 위치를 파악하고 알림을 주는 등의 기능이 탑재된 골프 매트는 찾아볼 수 없었다. 공의 위치를 알려주는 서비스의 경우, 골프 공에 GPS가 내장되어 현재 위치를 식별 가능한 미국 IT 제조업체 ‘온코어’의 ‘지니어스 공’이 있으나 GPS 수신이 가능한 외부에서만 작동 가능하다는 점이 우리 서비스와 달랐으며 이 또한 골프 공과 헤드를 정렬하는 등의 시각장애인을 위한 전용 기능이 없기에 우리 서비스가 차별성을 가지고 있음을 확인하였다.

## 해결 방안 및 기능

우리는 시각 장애인이 서포터 없이는 골프를 할 수 없는 이유로, **공 위치 파악 불가능 등 골프 어드레스 과정에 어려움**이 있다는 것과 **음성 기능 부재**를 파악하였다. 

### 범위

**환경 설정: 실내 퍼팅 (가정용 골프 매트 형태) , 골프채: 퍼터 (일자형/반달형)**

> **퍼팅**이란,
골프에서 공을 홀에 넣기 위해 그린 위에서 짧은 거리로 공을 굴리는 것을 말한다. 퍼팅 기술은 정확성과 거리 감각을 중요로 한다.
> 

이에 우리는 시각장애인 골퍼의 서포터 기능을 하는 시각장애인 전용 골프 서비스로서, **실내 골프 퍼팅** 상황을 환경으로 설정하여 핵심 기능을 구성하였다. 기능 선정 이유 및 내용은 다음과 같으며 모든 기능은 음성 및 비프음으로 출력하도록 하여 시각장애인 전용 서비스의 기능을 충족하였다.

- **골프 공 위치 인식 기능**

골프 공의 위치를 인식하는 기능을 구성하였다. 시각 장애인 골퍼는 공의 위치를 알 수 없기에 골프 공 위치 인식 기능을 통해 음성으로 공 위치를 파악 가능하도록 했다. 또한 골프 매트 내에서 골프 공 위치가 움직이는데 이를 인식하여 골프 서비스 기능을 제공하도록 하였다.

- **공과 헤드 정렬 기능**

공과 헤드를 정렬할 수 있도록 하는 기능을 음성으로 제공한다. 이를 통해 시각장애인은 서포터 없이도 어드레스 때 볼 뒤에 클럽 페이스를 타깃에 직각이 되도록 정렬하는 얼라인먼트를 할 수 있다.

서비스 적용 대상 골프채로는, **퍼터**를 기준으로 한다.

> **퍼터**
그린 위에서 사용되는 클럽 중 하나로 짧은 거리로 공을 굴리는 용도로 주로 홀을 마무리할 때 활용된다.
> 

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%202.png)

### 골프공 위치 인식 기능

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%203.png)

골프공의 위치를 인식하기 위해 **OpenCV 기반 물체인식 알고리즘**을 사용한다.
카메라와 OpenCV를 이용하여 골프공의 색을 분석하여 공을 인식하고 추적할 수 있다. 

**1 ) 전처리** 

가우시안 블러와 HSV 색 공간 변환을 이용하여 이미지에 대한 전처리를 진행한다. 전처리 과정을 통해 노이즈를 감소시키고 객체를 쉽게 식별할 수 있도록 돕는다.

**1-1)** `cv2.GaussianBlur`를 사용하여 원본 이미지 형상을 보존하면서 노이즈를 제거할 수 있다.

```jsx
cv2.GaussianBlur(src, ksize, sigmaX, sigmaY, borderType = 'BORDER_REFLECT_101')
```

**1-2 ) HSV**

자연계의 색상을 거의 온전히 표현할 수 있는 것이 특징으로 RGB보다 직관성이 좋다. 따라서 이미지에서 색상을 검출할 때 RGB보다 HSV를 사용하는 것이 더 적합하다. 
색상(Hue), 채도(Saturation), 명도(Value)로 특정한 색을 지정한다. 

- 색상 :  0 - 360 의 범위를 가지고, 가장 파장이 긴 빨간색을 0도로 지정한다.
- 채도 :  0 - 100 의 범위를 가지고, 색상이 가장 진한 상태를 100으로 하며, 진함의 정도를 나타낸다.
- 명도 : 0 - 100 의 범위를 가지고, 흰색, 빨간색을 100, 검은색이 0이며, 밝은 정도를 나타낸다.

![RGB → HSV 변환 공식](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%204.png)

RGB → HSV 변환 공식

**2) 색상 객체 추적**

`cv2.inRange`를 사용하여 특정한 색상 영역을 검출할 수 있다.

```jsx
cv2.inRange(**src, lower range, upper range, dst**)
```

**3) 외곽선 검출**

마지막으로 골프공의 경계를 찾기 위해 `cv2.findContours`와 `cv2.drawCountours`를 사용한다.

`cv2.findContours`는 이미지에서 객체의 외곽을 찾는데 사용되며 정확도를 높히기 위해 Binary Image를 사용한다. 

```jsx
**cv2.findContours(image, mode, method[, contours[, hierarchy[, offset]]]) → image, contours, hierarchy**
```

countours를 찾는 mode 중 **cv2.RETR_EXTERNAL**(contours line 중 가장 바깥 쪽 line만 찾기) 모드를 사용하여 골프공 외곽선을 찾을 수 있다. 

이때 method로는 **cv2.CHAIN_APPROX_SIMPLE** (counters line을 그릴 수 있는 point만 저장)를 선택하여 메모리를 절약한다.

`cv2.drawCountours`는 앞서 구한 contours를 그리기 위한 함수로 개발과정에서 외곽선 추출이 제대로 되고 있는 지 확인하기 위해 사용한다.

**3-1) 전처리를 이용하여 외곽선 검출 정확도 높이기**

우리는 정확한 외곽선 검출을 위해 전처리로 `Canny Edge` 알고리즘을 사용하기로 했다.

Canny Edge는 **엣지**를 찾기 위해 사용되는 매우 유명한 알고리즘이다. 여기서 엣지는 이미지 밝기가 급격하게 변하는 지점을 말한다. Canny Edge는 이를 이용하여 물체의 외곽선을 추출한다.

Canny Edge 검출 결과를 `cv2.findContours` 의 입력으로 전달하여 객체 외곽을 찾는다.

색상 객체 검출과 외곽선 검출을 혼합하여 골프공 검출 및 공의 중심을 계산할 수 있다. 
이를 이용하여 공의 위치를 찾고자 한다.

[opencv 입문하기 7-2편 HSV, 특정 색상 추출(inRange)](https://sikaleo.tistory.com/84)

[Image Contours — gramman 0.1 documentation](https://opencv-python.readthedocs.io/en/latest/doc/15.imageContours/imageContours.html)

### **정렬**

### 1) 홀과 공과 헤드의 정렬

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20-%20%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20b049da0e6f2845639b19e1e37bec013a/Untitled.png)

홀과 공 사이에 직선을 연장하여 그 선상에 헤드가 있는지 판별한다. 
이때, 헤드의 각도는 헤드의 면의 수직 방향에 공과 홀이 존재해야 한다. 
헤드의 각도는 퍼터에 장착된 2포인트의 IR Emitter을 이용하여 측정하게 된다. 
이를 이용하여 헤드의 각도를 수정하게 하고, 그 상태에서 헤드로 공을 때리면 골프공이 홀을 향하여 전진하게 될 것이다. 

### 2) 홀과 공 정렬

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20-%20%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20b049da0e6f2845639b19e1e37bec013a/Untitled%201.png)

홀과 공의 정렬은 다음과 같은 방법을 통해 이루어진다. 

먼저 공은 절대 IR 카메라 인식 범위를 벗어난 곳으로 나가선 안된다. 그 밖으로 나가게 되면 카메라가 헤드를 찾을 수 없어 공과 헤드 정렬이 불가해 지기 때문이다. 
어안 카메라를 이용해 현재 공의 위치를 파악하며 IR 카메라 인식 범위 밖으로 나갔을 경우 사용자에게 이를 알린다. 
골프 홀 컵의 위치는 기본적으로 고정으로 홀과 공의 상대적 위치 파악을 통해 공이 홀을 기준으로 어느 각도로 위치하고 있는지 파악할 수 있게 된다.

### 3) 공과 헤드 정렬

![전체 모습 (정면)](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%205.png)

전체 모습 (정면)

**헤드 식별을 위한 IR LED 부착**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%206.png)

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%207.png)

IR Positioning Camera를 사용하여 골프채 헤드를 식별하기 위해 골프채에 IR LED를 부착한다. 

이때 IR LED는 공을 치는 면이 아닌 반대편에 부착하며. 토우와 힐 부분에 부착한다.

IR Positioning Camera가 IR LED를 통해 골프채 헤드 토우와 힐을 식별하고 각 x,y 값을 출력한다.

[Positioning_ir_camera__SKU_SEN0158-DFRobot](https://wiki.dfrobot.com/Positioning_ir_camera__SKU_SEN0158)

ir_camera_sample_code

**헤드 위치 판별**

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%208.png)

![예시: C1에서 활용한 헤드의 위치, C2에서 촬영한 헤드 토우의 위치 이미지.](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2010.png)

예시: C1에서 활용한 헤드의 위치, C2에서 촬영한 헤드 토우의 위치 이미지.

좌표를 측정하는 방법은 토우의 좌표를 예시로 한다. 나머지 좌표를 구하는 방식도 다음과 같다. 

촬영된 이미지의 토우의 좌표를 이용하여 카메라로부터 토우의 각도를 측정한다. 
그렇게 되면 두 포인트에서 각각의 각도를 구할 수 있게 된다. 
이를 이용하여 삼각측량을 이용해 토우의 실제 위치를 추적하는 방식을 택하고 있다.

토우가 정확한 위치에 있는지 판단하는 방법은 다음과 같다. 골프공은 시스템 기준 0.5, 0.5m위치에 있게 된다. 골프공의 위치는 고정 위치이므로 골프공의 위치를 따로 파악하지 않아도 반드시 위치가 동일하게 되기 때문이다.

X`와 x`가 헤드의 생김새 IR LED 부착 형태를 모두 고려한 값이라고 가정한 후  절대값 `X`- x`` 이 0과 가깝다면 valid한 정렬 상태라고 판단한다. (타점 모드 제외)

> **삼각측량**
어떤 한 점의 좌표와 거리를 삼각형의 성질을 이용한 삼각함수를 통해 알아내는 방법이다.
> 
> 
> **기본 원리**
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2011.png)
> 
> α, β 와 AB의 길이는 주어진다.
> 
> C는 거리 RC 혹은 MC를 이용해 구할 수 있다
> 
> RC: 사인법칙과 코사인법칙을 이용하여 C의 위치를 구할 수 있다.
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2012.png)
> 
> AC와 BC를 다음과 같이 구할 수 있다.
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2013.png)
> 
> RC는 다음과 같이 구할 수 있다.
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2014.png)
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2015.png)
> 
> **MC**는 피타고라스 정리를 이용하여 구할 수 있다.
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2016.png)
> 
> ![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2017.png)
> 

**헤드 각도 구하기**

토우, 힐의 각 x,y 좌표를 통해 두 점을 지나는 직선의 방정식을 이용하여 기울기를 구할 수 있으며 이를 이용하여 각도를 구할 수 있다.

```jsx
두 점 (x₁, y₁)와 (x₂, y₂)일 때 기울기 m = x2−x1 / y2−y1

기울기가 m일 때 각도 계산 θ = arctan(m)  (단위 : rad)
```

### **공과 홀까지의 거리 계산**

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20-%20%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20b049da0e6f2845639b19e1e37bec013a/Untitled%202.png)

연습 매트 사이즈를 기준으로 공과 헤드의 좌표를 매트 내부 임의의 좌표로 변환할 수 있다.
이를 이용하여 공과 홀까지의 거리를 계산할 수 있다. 

좌표 보정은 매트 완성 후 위치 별 공과 헤드의 좌표를 수집한 후 보완해나갈 예정이다.

> 공의 움직임이 없을 때 계산한 거리를 사용자에게 알린다.
> 

### 공의 궤도 추적

공의 중심 위치를 추적하여 공의 경로를 확인한다. 이전 프레임에서 현재 프레임의 이동 경로를 deque에 저장한다. 저장된 중심들을 이용하여 이전 위치부터 현재 위치까지 선분을 그려 공의 궤도를 파악할 수 있다. 
예를 들어 x좌표가 감소한다면 오른쪽으로 이동, 증가하면 왼쪽으로 이동한 것으로 방향을 파악할 수 있다. 

### **음성 기능 제공: 서비스 이용 접근성 향상**

![헤드 정렬](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2022.png)

헤드 정렬

![공이 헤드 측정 범위를 벗어난 경우](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%209.png)

공이 헤드 측정 범위를 벗어난 경우

![홀과 공의 거리](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2010.png)

홀과 공의 거리

![결과 알림](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2011.png)

결과 알림

**알림 출력 방식**

골프는 고도의 집중력을 요하는 스포츠이다. 긴 문장으로 알림 음성이 출력 될 경우 불편함을 초래할 수 있다. 이를 고려하여 긴 문장이 출력 되지 않도록 구성하되, 평소에도 시각장애인 골퍼는 서포터의 말소리가 들리는 환경에서 골프를 한다는 점을 고려하여 비프음 및 음성 출력 방식을 선정하였다. 

**비프음 출력**

알림 출력을 위해 주로 비프음을 사용한다. 비프음의 빈도, 박자 등을 조절하여 상황에 따른 정보를 전달하고자 한다.

**음성(TTS) 출력**

음성 출력의 경우, 출력 거리 및 궤적에 대한 정보를 사용자에게 알릴 때 TTS를 사용한다. 이때 긴 문장이 아닌 짧은 단어 및 문장을 출력하도록 한다.

다음은 공과 헤드 사이의 거리를 알리는 경우에서의 예시 음성 알림이다.

> *“7cm”*
> 

> *“5cm”*
> 

**알림 내용**

구체적인 상황 별 알림 내용은 다음과 같이 구성한다.

- 골프 어드레스 과정에서 골프 공 위치를 파악하기 위해 알림을 제공한다.
    - [TTS] **홀과 공의 거리**
- 골프 어드레스 과정에서 전체 정렬을 위해 알림을 제공한다
    - [TTS] **공과 헤드 사이의 거리**
    - [비프음] **홀 & 공 & 헤드 정렬되었는지 여부**
        - 성공: 길게 1번 (3초씩 1번)
        - 실패: 짧게 1번 (성공과 다른 높낮이)
            - 정렬 성공할 때까지 n초마다 반복
- 스윙 이후, 공의 궤적 파악을 위해 알림을 제공한다.
    - [TTS] **공의 궤적 내용**
- 스윙 이후, 공이 홀에 들어갔는지 파악하기 위해 알림을 제공한다.
    - [비프음] **공이 홀에 들어갔는지 여부**
        - 성공: 길게 1번 (3초씩 1번)
        - 실패: 짧게 3번 (1초씩 3번)
- 공이 IR positioning camera 범위 밖으로 나갔을 경우 경고 알림을 제공한다.
    - [비프음] **공이 IR positioning camera 범위 밖으로 나간 경우**
        - 경고:  길게 1번-짧게 1번 세트로 3번 반복

일부 음성 기능은 리모컨의 모드 형태로도 제공이 되며 리모컨을 이용하여 다시 들을 수 있다.

## 서비스 순서도

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2012.png)

## **하드웨어**

### 라즈베리파이 5

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2013.png)

라즈베리파이를 이용하여 open cv의 gaussian blur, canny edge등을 이용하여 골프공을 탐색하게 된다. [‘라즈베리파이와 Open CV를 활용한 선형 검출 알고리즘 구현’](https://www-dbpia-co-kr-ssl.access.inu.ac.kr/journal/articleDetail?nodeId=NODE10754931)은 라즈베리 파이와 Opne cv를 이용하여 진행한 프로젝트의 논문이다. 해당 논문은 라즈베리 파이 4를 이용하여 우리와 같은 알고리즘을 이용, 실시간 처리에 성공하였다. 우리의 경우에는 라즈벨 파이 5를 사용하였기 때문에 실시간 처리될 것이다.

### **IR Positioning camera**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2024.png)

이 제품은 적외선을 촬영할 수 있는 카메라이다. 적외선 반사광 또는 IR Emitter에서 나온 적외선을 추적하는데 사용된다. I2C를 이용하여 작동되며, 해상도는 128 * 96이고 화각은 33도 * 23도로 지오지브라를 이용한 시뮬레이션 결과 충분히 기능을 해 낼 수 있음이 확인되었다.

### **카메라 컨트롤러**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2025.png)

카메라를 제어하기 위해 ARDUINO NANO가 사용되었다. 라즈베리 파이와의 연결은 USB케이블을 통해 한다.

### **IR EMITTER**

골프채에 장착되는 IR Emitter이다. 내구성 확보와 크기 축소를 위하여 PCB설계하여 장착할 예정이다.

**IR LED**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2026.png)

940nm의 적외선을 100mW출력으로 방사 가능하다.

**Battery**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2027.png)

Bluetec의 LR44 코인셀 전지이다. 이는 1.5V전압을 출력한다.

**IR Emitter Resistor**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2028.png)

1/4W, 330Ω, 5%규격을 만족한다. IR LED와 직렬로 연결된다.

**Battery holder**

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2029.png)

SMD 타입의 배터리 홀더 이다. PCB설계 후 기판에 납땜하여 사용 가능하다.

### 음성 출력용 스피커

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2030.png)

음성 출력용 스피커로  [Coms] 2채널 스마트폰 3D 멀티스피커 [SD930]를 선정하였다. 이 제품은 저렴하여 원가를 절감하기 좋고, 이미 패키징이 되어 있어 제작시 편리하다**.**

### 골프공 위치 확인용 카메라

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2014.png)

[SMG] 라즈베리파이 160도 어안 카메라 모듈 5MP [YR-019]을 사용하였다. 해당 카메라는 160도의 넖은 화각을 제공하여 넓은 면적을 촬영하기에 적합하다. 간단한 계산을 통하여 얻은 카메라 화각 별 카메라 위치는 다음 사진과 같다.

![카메라 화각별 높이.png](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/%25EC%25B9%25B4%25EB%25A9%2594%25EB%259D%25BC_%25ED%2599%2594%25EA%25B0%2581%25EB%25B3%2584_%25EB%2586%2592%25EC%259D%25B4.png)

퍼팅매트 길이 2m을 기준으로 생각해보면, 160도 화각을 가진 카메라는 지상으로부터 최소 17cm높이에만 있어도 된다. 만약, 골프공 높이(약 42mm)를 합쳐 생각해도 약21cm위에만 위치하면 기능을 할 수 있다. 따라서 해당 제품을 사용하면 제품을 컴팩트하게 만드는데 도움이 된다.

### 리모컨 키트

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2032.png)

[YwRobot] 아두이노 원격제어 IR 수신기 모듈 키트 [KIT050107]

사용자가 원격으로 제품을 사용하기 위해 이용된다. 아두이노에 연결된다. 
개발 일정이 빠르게 진행될 경우 추가 기능을 위해 필요하다.

### 노트형 점자판

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2033.png)

점자 스티커를 제작하기 위해 사용됨. 시각장애인은 리모컨의 버튼을 만져도 어떤 용도인지 알 수 없기 때문에 점자 스티커를 붙여 시각장애인이 버튼을 구분할 수 있도록 할 예정임.

### 점자 라벨 테이프

![Untitled](%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%83%E1%85%B3%E1%84%80%E1%85%A9%E1%86%AF%E1%84%91%E1%85%B5%E1%86%BC%20tech-pioneers%20-%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%2003f407eba72542928fa5733657253cde/Untitled%2034.png)

점자를 기록할 수 있는 라벨 테이프임. 여기에 점자를 새겨 리모컨의 버튼을 구별 가능하게 할 예정임.

## 3D 모델링

매트를 감쌀 프레임과 카메라 거치대를 3D프린터로 제작한다. AutoDesk 123D를 사용하여 모델링을 진행한다. 교내 메이커스페이스 및 팀원이 개인적으로 소지하고 있는 3D프린터를 이용할 예정이다.

매트 주변을 프레임으로 감싸 공이 매트 밖으로 빠져나가는 것을 막는다. 
이때 프레임 높이는 골프공 사이즈의 두 배로 설정하였다.

카메라 거치대는 카메라가 매트의 가로, 세로 중앙에 위치하도록 한다. 
이때 카메라가 200*30 영역을 모두 담을 수 있는 최소 높이는 17cm이기에 거치대의 높이를 17cm 이상으로 세팅할 예정이다.

프레임은 조립형으로 분리하여 휴대할 수 있다.

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20-%20%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20b049da0e6f2845639b19e1e37bec013a/Untitled%203.png)

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20318526707290447b978bf0991d581959/Untitled%2016.png)

## **핵심 팀 구성원 소개 및 업무 내용**

박주미

팀장

- IR센서 영상 좌표 → 각도 변환
- 골프 헤드, 공, 홀 정렬 확인 알고리즘
- 공, 헤드 좌표 매트 내부 좌표로 변환

---

구민성

팀원

- 아두이노 펌웨어
- 하드웨어 패키징
- 3D 모델링 및 출력
- 납땜

---

류지수

팀원

- 3D 모델링 및 출력
- 리모컨 기능 구현
- openCV를 이용하여 골프공 위치 파악
- 공의 궤도 추적 기능 구현
- 공과 홀의 거리 파악

---

한예지

팀원

- 각도를 이용한 삼각측량
- 골프 헤드 정렬 확인 알고리즘
- 음성 기능 구현

## 일정표

![Untitled](%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%E1%86%BC%E1%84%89%E1%85%A5%E1%84%91%E1%85%A9%E1%84%90%E1%85%A5%20tech-pioneers%20-%20%E1%84%87%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20b049da0e6f2845639b19e1e37bec013a/Untitled%204.png)

## 평가

### 방향성 평가

- 해당 서비스는 시각 장애인 전용 골프 서비스로서 시각장애인 베타 테스터로 본 시스템의 방향성을 점검한다.
- 제작 과정 중, 기능이 하나씩 완성될 때마다 베타 테스터에게 평가를 부탁하여 시각장애인에게 유용한 시스템인지 주기적으로 확인한다.
- 사용성 테스트를 위해 팀원의 눈을 가리고 실제 서비스를 사용하며 골프 테스트를 진행한다.

### 기능 평가: **공의 위치 판별 기능, 공과 헤드 정렬 기능**

**비프음 알림 기능 평가**

- 공과 헤드가 정렬 되었을 때, 3초 비프음이 1번 발생해야 한다.
- 공과 헤드가 정렬 되지 않았을 때, 1초 비프음이 정렬 성공할 때까지 2초마다 발생해야 한다.
- 스윙 이후 공이 홀에 들어갔을 때, 3초 비프음이 1번 발생해야 한다.
- 스윙 이후 공이 홀에 들어가지 않았을 때, 1초 비프음이 3번 발생해야 한다.
- 스윙 이후, 공이 IR Camera 범위 밖으로 나갔을 때, 경고 비프음이 발생해야 한다.
    - 경고 비프음: 길게 1번-짧게 1번 세트로 3번 반복

**TTS 알림 기능 평가**

- 홀과 공의 거리를 TTS를 통해 출력해야 한다.
    - 실제 거리와 시스템이 출력하는 거리를 비교하여 오차 범위 내에 있는지 정확도를 객관적으로 판별한다.
- 공과 헤드의 거리를 TTS를 통해 출력해야 한다.
    - 실제 거리와 시스템이 출력하는 거리를 비교하여 오차 범위 내에 있는지 정확도를 객관적으로 판별한다.
- 스윙 이후, 공의 궤적 내용을 TTS를 통해 출력해야 한다.
    - 실제 궤적과 시스템이 출력하는 궤적 내용을 비교하여 오차 범위 내에 있는지 정확도를 객관적으로 판별한다.

## 지원 경비 사용 계획서

### 하드웨어 구성요소 (디바이스마트)

| 모델명 | 단가 | 수량 | 가격 | 용도 | 링크 |
| --- | --- | --- | --- | --- | --- |
| 라즈베리 파이
  5, HDMI 출력선 | 148,170 | 1 | 148,170 | SBC |  |
| [DFROBOT]
  SEN0158 | 39,350 | 2 | 78,700 | 골프채 위치 확인용 센서 | https://www.devicemart.co.kr/goods/view?no=14836578 |
| [Everlight
  Electronics Co Ltd] IR333C/H0/L10 | 690 | 2 | 1,380 | IR emitter | https://www.devicemart.co.kr/goods/view?no=6969388 |
| [블루텍건전지]
  LR건전지-A76 LR44(1판=10EA) | 1,820 | 1 | 1,820 | IR emitter battery | https://www.devicemart.co.kr/goods/view?no=12298706 |
| [제일전자]
  1/4W 5% Axial Resistor 331J (330Ω) | 13 | 10 | 130 | IR emitter resistor | https://www.devicemart.co.kr/goods/view?no=886 |
| [COMF
  (중국)] BHL44SMD(for LR44) | 300 | 2 | 600 | IR emitter battery holder | https://www.devicemart.co.kr/goods/view?no=7815 |
| [SMG]
  아두이노 나노 호환보드 FT232RL [SZH-EK017] | 7,000 | 2 | 14,000 | 카메라 컨트롤러 | https://www.devicemart.co.kr/goods/view?no=1265700 |
| [sync]
  아두이노 나노용 데이터 케이블 USB A to USB mini B 25cm [SZH-CAB46] | 900 | 2 | 1,800 | 카메라 컨트롤러 - 라즈베리 파이 연결 케이블 | https://www.devicemart.co.kr/goods/view?no=13003668 |
| [Coms]
  2채널 스마트폰 3D 멀티스피커 [SD930] | 9,900 | 1 | 9,900 | 오디오 출력용 스피커 | https://www.devicemart.co.kr/goods/view?no=1077912 |
| [YwRobot]
  아두이노 원격제어 IR 수신기 모듈 키트 [KIT050107] | 3,000 | 1 | 3,000 | 원격제어용 리모컨 | https://www.devicemart.co.kr/goods/view?no=1383853 |
| [SMG]
  라즈베리파이 160도 광각 카메라 모듈 5MP [YR-019] | 34,200 | 1 | 34,200 | 골프공 위치 확인용 카메라 | https://www.devicemart.co.kr/goods/view?no=1362051 |
|  |  | VAT 미포함 | 293,700 | VAT 포함 | 323,070 |